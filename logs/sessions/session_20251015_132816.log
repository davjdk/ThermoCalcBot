2025-10-15 13:28:16,036 - __main__ - INFO - ThermoSystem initialized
2025-10-15 13:28:16,036 - __main__ - INFO - Initializing agents...
2025-10-15 13:28:16,319 - thermo_agent - INFO - ThermodynamicAgent 'thermo_agent' initialized
2025-10-15 13:28:16,319 - sql_agent - INFO - SQLGenerationAgent 'sql_agent' initialized with message validation
2025-10-15 13:28:16,319 - database_agent - INFO - GracefulDegradationManager initialized for agent database_agent
2025-10-15 13:28:16,321 - database_agent - INFO - Component database registered with status healthy
2025-10-15 13:28:16,321 - database_agent - INFO - Component sql_execution registered with status healthy
2025-10-15 13:28:16,325 - database_agent - INFO - Component temperature_filtering registered with status healthy
2025-10-15 13:28:16,325 - database_agent - INFO - DatabaseAgent 'database_agent' initialized with message validation and graceful degradation
2025-10-15 13:28:16,325 - individual_search_agent - INFO - TimeoutManager initialized with adaptive timeouts and circuit breaker
2025-10-15 13:28:16,325 - individual_search_agent - INFO - IndividualSearchAgent 'individual_search_agent' initialized
2025-10-15 13:28:16,328 - __main__ - INFO - All agents initialized successfully
2025-10-15 13:28:16,329 - __main__ - INFO - Starting agents...
2025-10-15 13:28:16,329 - thermo_agent - INFO - Agent 'thermo_agent' started listening for messages
2025-10-15 13:28:16,329 - sql_agent - INFO - Agent 'sql_agent' started listening for messages
2025-10-15 13:28:16,329 - database_agent - INFO - Agent 'database_agent' started listening for messages
2025-10-15 13:28:16,330 - individual_search_agent - INFO - Agent 'individual_search_agent' started listening for messages
2025-10-15 13:28:17,309 - __main__ - INFO - All agents started
2025-10-15 13:28:34 - INFO - ОПЕРАЦИЯ: [orchestrator] -> PROCESS_REQUEST
2025-10-15 13:28:34,812 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [orchestrator] -> PROCESS_REQUEST
2025-10-15 13:28:34,812 - orchestrator - INFO - DEBUG: Waiting for thermo_agent response, timeout=60s, message_id=e0666445-ec42-495f-a7ed-537427dec5c0
2025-10-15 13:28:34 - INFO - ОПЕРАЦИЯ: [thermo_agent] -> EXTRACT_PARAMETERS [from orchestrator]
2025-10-15 13:28:34,812 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [thermo_agent] -> EXTRACT_PARAMETERS [from orchestrator]
2025-10-15 13:28:34,814 - thermo_agent - INFO - Starting parameter extraction for query: При какой температуре провзаимодействует оксид вольфрама с магнием?...
2025-10-15 13:28:41,044 - openai._base_client - INFO - Retrying request to /chat/completions in 0.384041 seconds
2025-10-15 13:28:42,389 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-15 13:28:45,174 - thermo_agent - INFO - Successfully extracted parameters: reaction, compounds: ['WO3', 'Mg', 'MgO', 'W']
2025-10-15 13:28:45 - INFO - INFO: EXTRACTED REACTION: WO3 + 3Mg → 3MgO + W
2025-10-15 13:28:45,175 - thermo_agents_session_20251015_132816 - INFO - INFO: EXTRACTED REACTION: WO3 + 3Mg → 3MgO + W
2025-10-15 13:28:45,175 - thermo_agent - INFO - Extracted reaction equation: WO3 + 3Mg → 3MgO + W
2025-10-15 13:28:45 - INFO - INFO: EXTRACTED PARAMETERS:
2025-10-15 13:28:45,175 - thermo_agents_session_20251015_132816 - INFO - INFO: EXTRACTED PARAMETERS:
2025-10-15 13:28:45 - INFO - INFO:   query_intent: reaction
2025-10-15 13:28:45,176 - thermo_agents_session_20251015_132816 - INFO - INFO:   query_intent: reaction
2025-10-15 13:28:45 - INFO - INFO:   compounds_count: 4
2025-10-15 13:28:45,176 - thermo_agents_session_20251015_132816 - INFO - INFO:   compounds_count: 4
2025-10-15 13:28:45 - INFO - INFO:   compounds: WO3, Mg, MgO, W
2025-10-15 13:28:45,177 - thermo_agents_session_20251015_132816 - INFO - INFO:   compounds: WO3, Mg, MgO, W
2025-10-15 13:28:45 - INFO - INFO:   temperature_celsius: 25.0
2025-10-15 13:28:45,177 - thermo_agents_session_20251015_132816 - INFO - INFO:   temperature_celsius: 25.0
2025-10-15 13:28:45 - INFO - INFO:   temperature_k: 298.15
2025-10-15 13:28:45,178 - thermo_agents_session_20251015_132816 - INFO - INFO:   temperature_k: 298.15
2025-10-15 13:28:45 - INFO - INFO:   temperature_range_celsius: -73.15-1726.85
2025-10-15 13:28:45,178 - thermo_agents_session_20251015_132816 - INFO - INFO:   temperature_range_celsius: -73.15-1726.85
2025-10-15 13:28:45 - INFO - INFO:   temperature_range_k: 200.0-2000.0
2025-10-15 13:28:45,178 - thermo_agents_session_20251015_132816 - INFO - INFO:   temperature_range_k: 200.0-2000.0
2025-10-15 13:28:45 - INFO - INFO:   phases: s, s, s, s
2025-10-15 13:28:45,178 - thermo_agents_session_20251015_132816 - INFO - INFO:   phases: s, s, s, s
2025-10-15 13:28:45 - INFO - INFO:   properties: all
2025-10-15 13:28:45,178 - thermo_agents_session_20251015_132816 - INFO - INFO:   properties: all
2025-10-15 13:28:45 - INFO - INFO:   has_sql_hint: True
2025-10-15 13:28:45,178 - thermo_agents_session_20251015_132816 - INFO - INFO:   has_sql_hint: True
2025-10-15 13:28:45 - INFO - INFO: COMPOUNDS TO SEARCH (pre-search status):
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| WO3        |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
| Mg         |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
| MgO        |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
| W          |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:28:45,179 - thermo_agents_session_20251015_132816 - INFO - INFO: COMPOUNDS TO SEARCH (pre-search status):
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| WO3        |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
| Mg         |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
| MgO        |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
| W          |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:28:45 - INFO - INFO: EXTRACTION COMPLETE: reaction, 4 compounds
2025-10-15 13:28:45,179 - thermo_agents_session_20251015_132816 - INFO - INFO: EXTRACTION COMPLETE: reaction, 4 compounds
2025-10-15 13:28:45,180 - thermo_agent - INFO - Forwarded to Individual Search Agent: a619eb0c-7bf6-4cf7-a053-156ad766073f
2025-10-15 13:28:45 - INFO - РЕЗУЛЬТАТ: { "intent": "reaction", "compounds_count": 4, "compounds": 4 items, "temperature_k": 298.15, "has_sql_hint": True, ... }
2025-10-15 13:28:45,180 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "intent": "reaction", "compounds_count": 4, "compounds": 4 items, "temperature_k": 298.15, "has_sql_hint": True, ... }
2025-10-15 13:28:45 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 10367.97ms
2025-10-15 13:28:45,180 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 10367.97ms
2025-10-15 13:28:45 - INFO - МАРШРУТ: FROM: orchestrator
2025-10-15 13:28:45,180 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: orchestrator
2025-10-15 13:28:45 - INFO - CORRELATION ID: e0666445-ec42-495f-a7ed-537427dec5c0
2025-10-15 13:28:45,180 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: e0666445-ec42-495f-a7ed-537427dec5c0
2025-10-15 13:28:45 - INFO - AGENT STORAGE: 2 entries, 2 pending messages, 5 active sessions
2025-10-15 13:28:45,180 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 2 entries, 2 pending messages, 5 active sessions
2025-10-15 13:28:45 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:28:45,181 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:28:45,181 - thermo_agents.agent_storage - INFO - IMPORTANT MESSAGE: thermo_agent -> orchestrator | Type: response | ID: b8f215c7-de62-41d8-8c3a-258fed237a81 | Correlation: e0666445-ec42-495f-a7ed-537427dec5c0
2025-10-15 13:28:45,181 - orchestrator - INFO - DEBUG: Received response from thermo_agent: success
2025-10-15 13:28:45 - INFO - INFO: THERMO AGENT RESPONSE: Success with 4 compounds
2025-10-15 13:28:45,181 - thermo_agents_session_20251015_132816 - INFO - INFO: THERMO AGENT RESPONSE: Success with 4 compounds
2025-10-15 13:28:45,181 - orchestrator - INFO - DEBUG: Waiting for Individual Search Agent using TimeoutManager, correlation_id=e0666445-ec42-495f-a7ed-537427dec5c0
2025-10-15 13:28:45,181 - individual_search_agent - INFO - Executing total_request (attempt 1/2, timeout: 60.0s)
2025-10-15 13:28:45 - INFO - INFO: OPERATION START: total_request, attempt 1, timeout 60.0s
2025-10-15 13:28:45,181 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION START: total_request, attempt 1, timeout 60.0s
2025-10-15 13:28:45,182 - individual_search_agent - INFO - Processing search request: a619eb0c-7bf6-4cf7-a053-156ad766073f from thermo_agent
2025-10-15 13:28:45 - INFO - INFO: Starting individual search for 4 compounds
2025-10-15 13:28:45,182 - thermo_agents_session_20251015_132816 - INFO - INFO: Starting individual search for 4 compounds
2025-10-15 13:28:45,182 - individual_search_agent - INFO - DEBUG: Starting search for compound: WO3
2025-10-15 13:28:45,182 - individual_search_agent - INFO - DEBUG: Created search ID: search_WO3_a619eb0c-7bf6-4cf7-a053-156ad766073f_8003d1df
2025-10-15 13:28:45,182 - individual_search_agent - INFO - DEBUG: Sending SQL generation request for compound WO3
2025-10-15 13:28:45,182 - individual_search_agent - INFO - DEBUG: SQL request sent with message ID: 254d1c4d-b687-4cf9-8b2e-82e89fa811e0
2025-10-15 13:28:45,182 - individual_search_agent - INFO - DEBUG: Waiting for SQL result for compound WO3 using TimeoutManager
2025-10-15 13:28:45,182 - individual_search_agent - INFO - Executing sql_generation (attempt 1/3, timeout: 33.0s)
2025-10-15 13:28:45 - INFO - INFO: OPERATION START: sql_generation, attempt 1, timeout 33.0s
2025-10-15 13:28:45,182 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION START: sql_generation, attempt 1, timeout 33.0s
2025-10-15 13:28:45,184 - individual_search_agent - INFO - DEBUG: Waiting for SQL result for message 254d1c4d-b687-4cf9-8b2e-82e89fa811e0, timeout=180s
2025-10-15 13:28:45,184 - individual_search_agent - INFO - DEBUG: Starting search for compound: Mg
2025-10-15 13:28:45,184 - individual_search_agent - INFO - DEBUG: Created search ID: search_Mg_a619eb0c-7bf6-4cf7-a053-156ad766073f_c509d49c
2025-10-15 13:28:45,184 - individual_search_agent - INFO - DEBUG: Sending SQL generation request for compound Mg
2025-10-15 13:28:45,184 - individual_search_agent - INFO - DEBUG: SQL request sent with message ID: b5a9fc44-129d-4b17-a645-b1596d892ec5
2025-10-15 13:28:45,184 - individual_search_agent - INFO - DEBUG: Waiting for SQL result for compound Mg using TimeoutManager
2025-10-15 13:28:45,184 - individual_search_agent - INFO - Executing sql_generation (attempt 1/3, timeout: 33.0s)
2025-10-15 13:28:45 - INFO - INFO: OPERATION START: sql_generation, attempt 1, timeout 33.0s
2025-10-15 13:28:45,184 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION START: sql_generation, attempt 1, timeout 33.0s
2025-10-15 13:28:45,184 - individual_search_agent - INFO - DEBUG: Waiting for SQL result for message b5a9fc44-129d-4b17-a645-b1596d892ec5, timeout=180s
2025-10-15 13:28:45,184 - individual_search_agent - INFO - DEBUG: Starting search for compound: MgO
2025-10-15 13:28:45,185 - individual_search_agent - INFO - DEBUG: Created search ID: search_MgO_a619eb0c-7bf6-4cf7-a053-156ad766073f_5f607afe
2025-10-15 13:28:45,185 - individual_search_agent - INFO - DEBUG: Sending SQL generation request for compound MgO
2025-10-15 13:28:45,185 - individual_search_agent - INFO - DEBUG: SQL request sent with message ID: 35004b93-30a9-4b3e-856e-3a7875b5a43e
2025-10-15 13:28:45,185 - individual_search_agent - INFO - DEBUG: Waiting for SQL result for compound MgO using TimeoutManager
2025-10-15 13:28:45,185 - individual_search_agent - INFO - Executing sql_generation (attempt 1/3, timeout: 33.0s)
2025-10-15 13:28:45 - INFO - INFO: OPERATION START: sql_generation, attempt 1, timeout 33.0s
2025-10-15 13:28:45,185 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION START: sql_generation, attempt 1, timeout 33.0s
2025-10-15 13:28:45,185 - individual_search_agent - INFO - DEBUG: Waiting for SQL result for message 35004b93-30a9-4b3e-856e-3a7875b5a43e, timeout=180s
2025-10-15 13:28:45,185 - individual_search_agent - INFO - DEBUG: Starting search for compound: W
2025-10-15 13:28:45,186 - individual_search_agent - INFO - DEBUG: Created search ID: search_W_a619eb0c-7bf6-4cf7-a053-156ad766073f_81507e71
2025-10-15 13:28:45,186 - individual_search_agent - INFO - DEBUG: Sending SQL generation request for compound W
2025-10-15 13:28:45,186 - individual_search_agent - INFO - DEBUG: SQL request sent with message ID: 5586ce09-e712-46c0-a2e4-2aef643c4df8
2025-10-15 13:28:45,186 - individual_search_agent - INFO - DEBUG: Waiting for SQL result for compound W using TimeoutManager
2025-10-15 13:28:45,186 - individual_search_agent - INFO - Executing sql_generation (attempt 1/3, timeout: 33.0s)
2025-10-15 13:28:45 - INFO - INFO: OPERATION START: sql_generation, attempt 1, timeout 33.0s
2025-10-15 13:28:45,186 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION START: sql_generation, attempt 1, timeout 33.0s
2025-10-15 13:28:45,186 - individual_search_agent - INFO - DEBUG: Waiting for SQL result for message 5586ce09-e712-46c0-a2e4-2aef643c4df8, timeout=180s
2025-10-15 13:28:46 - INFO - ОПЕРАЦИЯ: [sql_agent] -> GENERATE_QUERY [from individual_search_agent]
2025-10-15 13:28:46,828 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [sql_agent] -> GENERATE_QUERY [from individual_search_agent]
2025-10-15 13:28:46,830 - sql_agent - INFO - Processing individual search for compound: WO3
2025-10-15 13:28:46,831 - sql_agent - INFO - Starting SQL query generation...
2025-10-15 13:28:47,745 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-15 13:28:48,918 - sql_agent - INFO - Generated SQL query: SELECT * FROM compounds WHERE (TRIM(Formula) = 'WO3' OR Formula LIKE 'WO3(%') LIMIT 100
2025-10-15 13:28:48 - INFO - INFO: SQL GENERATION COMPLETE: Query length 87
2025-10-15 13:28:48,919 - thermo_agents_session_20251015_132816 - INFO - INFO: SQL GENERATION COMPLETE: Query length 87
2025-10-15 13:28:48,919 - sql_agent - INFO - SQL query cleaned
2025-10-15 13:28:48,919 - sql_agent - INFO - SQL query validation passed: 87 characters
2025-10-15 13:28:48,919 - sql_agent - INFO - Prepared result data with key: sql_result_254d1c4d-b687-4cf9-8b2e-82e89fa811e0
2025-10-15 13:28:48,921 - sql_agent - INFO - Sending SQL query to database agent for individual execution...
2025-10-15 13:28:48,921 - sql_agent - INFO - SQL query sent to database_agent: 12e4e61f-eda3-4421-8883-d9a2a5e4ad90
2025-10-15 13:28:50 - INFO - ОПЕРАЦИЯ: [database_agent] -> EXECUTE_QUERY [from sql_agent]
2025-10-15 13:28:50,830 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [database_agent] -> EXECUTE_QUERY [from sql_agent]
2025-10-15 13:28:50,832 - database_agent - INFO - Executing individual SQL query for compound WO3: SELECT * FROM compounds WHERE (TRIM(Formula) = 'WO3' OR Formula LIKE 'WO3(%') LIMIT 100...
2025-10-15 13:28:50 - INFO - INFO: DATABASE EXECUTION START: SELECT * FROM compounds WHERE (TRIM(Formula) = 'WO3' OR Formula LIKE 'WO3(%') LIMIT 100
2025-10-15 13:28:50,833 - thermo_agents_session_20251015_132816 - INFO - INFO: DATABASE EXECUTION START: SELECT * FROM compounds WHERE (TRIM(Formula) = 'WO3' OR Formula LIKE 'WO3(%') LIMIT 100
2025-10-15 13:28:50,940 - database_agent - INFO - SQL executed successfully: 60 rows found
2025-10-15 13:28:50,941 - database_agent - INFO - Applying temperature range filtering: 200.0-2000.0K...
2025-10-15 13:28:50,941 - database_agent - INFO - Temperature filtering: 60 of 60 rows remain
2025-10-15 13:28:50 - INFO - INFO: TEMPERATURE FILTER: Range=200.0-2000.0K, Matched=60, Excluded=0
2025-10-15 13:28:50,941 - thermo_agents_session_20251015_132816 - INFO - INFO: TEMPERATURE FILTER: Range=200.0-2000.0K, Matched=60, Excluded=0
2025-10-15 13:28:50 - INFO - INFO: QUERY RESULTS: 60 rows, columns: 23
2025-10-15 13:28:50,941 - thermo_agents_session_20251015_132816 - INFO - INFO: QUERY RESULTS: 60 rows, columns: 23
2025-10-15 13:28:50,941 - database_agent - INFO - Database result stored with key: db_result_12e4e61f-eda3-4421-8883-d9a2a5e4ad90
2025-10-15 13:28:50,941 - database_agent - INFO - Database execution successful: 60 results found
2025-10-15 13:28:50,942 - database_agent - INFO - Response sent to sql_agent
2025-10-15 13:28:50 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "execution_success": True, "row_count": 60, "result_key": "db_result_12e4e61f-eda3-4421-8883-d9a2a5e4ad90", "direct_processing": True, ... }
2025-10-15 13:28:50,942 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "execution_success": True, "row_count": 60, "result_key": "db_result_12e4e61f-eda3-4421-8883-d9a2a5e4ad90", "direct_processing": True, ... }
2025-10-15 13:28:50 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 111.67ms
2025-10-15 13:28:50,942 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 111.67ms
2025-10-15 13:28:50 - INFO - МАРШРУТ: FROM: sql_agent
2025-10-15 13:28:50,942 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: sql_agent
2025-10-15 13:28:50 - INFO - CORRELATION ID: 12e4e61f-eda3-4421-8883-d9a2a5e4ad90
2025-10-15 13:28:50,942 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: 12e4e61f-eda3-4421-8883-d9a2a5e4ad90
2025-10-15 13:28:50 - INFO - AGENT STORAGE: 3 entries, 1 pending messages, 5 active sessions
2025-10-15 13:28:50,943 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 3 entries, 1 pending messages, 5 active sessions
2025-10-15 13:28:50 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:28:50,943 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:28:50,943 - sql_agent - INFO - Received database result: success
2025-10-15 13:28:50,943 - sql_agent - INFO - Database execution successful: 60 rows
2025-10-15 13:28:50,943 - sql_agent - INFO - Database results ready for individual search agent processing
2025-10-15 13:28:50,943 - sql_agent - INFO - Storing result with key: sql_result_254d1c4d-b687-4cf9-8b2e-82e89fa811e0
2025-10-15 13:28:50,943 - sql_agent - INFO - Result stored successfully
2025-10-15 13:28:50,943 - sql_agent - INFO - Sending individual_sql_complete to individual_search_agent
2025-10-15 13:28:50 - INFO - INFO: SENDING INDIVIDUAL_SQL_COMPLETE: To individual_search_agent, key=sql_result_254d1c4d-b687-4cf9-8b2e-82e89fa811e0
2025-10-15 13:28:50,943 - thermo_agents_session_20251015_132816 - INFO - INFO: SENDING INDIVIDUAL_SQL_COMPLETE: To individual_search_agent, key=sql_result_254d1c4d-b687-4cf9-8b2e-82e89fa811e0
2025-10-15 13:28:50,944 - sql_agent - INFO - individual_sql_complete sent successfully to individual_search_agent
2025-10-15 13:28:50 - INFO - INFO: SQL GENERATED: 87 chars, 13 columns expected
2025-10-15 13:28:50,944 - thermo_agents_session_20251015_132816 - INFO - INFO: SQL GENERATED: 87 chars, 13 columns expected
2025-10-15 13:28:50,944 - sql_agent - INFO - Message processing completed successfully
2025-10-15 13:28:50 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "sql_query_length": 87, "expected_columns": 13, "result_key": "sql_result_254d1c4d-b687-4cf9-8b2e-82e89fa811e0", "database_execution": True, ... }
2025-10-15 13:28:50,945 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "sql_query_length": 87, "expected_columns": 13, "result_key": "sql_result_254d1c4d-b687-4cf9-8b2e-82e89fa811e0", "database_execution": True, ... }
2025-10-15 13:28:50 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 4115.90ms
2025-10-15 13:28:50,945 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 4115.90ms
2025-10-15 13:28:50 - INFO - МАРШРУТ: FROM: individual_search_agent
2025-10-15 13:28:50,945 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: individual_search_agent
2025-10-15 13:28:50 - INFO - CORRELATION ID: 254d1c4d-b687-4cf9-8b2e-82e89fa811e0
2025-10-15 13:28:50,945 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: 254d1c4d-b687-4cf9-8b2e-82e89fa811e0
2025-10-15 13:28:50 - INFO - AGENT STORAGE: 4 entries, 1 pending messages, 5 active sessions
2025-10-15 13:28:50,945 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 4 entries, 1 pending messages, 5 active sessions
2025-10-15 13:28:50 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:28:50,945 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:28:50 - INFO - ОПЕРАЦИЯ: [sql_agent] -> GENERATE_QUERY [from individual_search_agent]
2025-10-15 13:28:50,945 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [sql_agent] -> GENERATE_QUERY [from individual_search_agent]
2025-10-15 13:28:50,945 - sql_agent - INFO - Processing individual search for compound: Mg
2025-10-15 13:28:50,945 - sql_agent - INFO - Starting SQL query generation...
2025-10-15 13:28:51,123 - individual_search_agent - INFO - DEBUG: SQL result received successfully for message 254d1c4d-b687-4cf9-8b2e-82e89fa811e0
2025-10-15 13:28:51,124 - individual_search_agent - INFO - sql_generation completed successfully in 5.9s (attempt 1)
2025-10-15 13:28:51 - INFO - INFO: OPERATION SUCCESS: sql_generation, completed in 5.9s, attempt 1
2025-10-15 13:28:51,124 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION SUCCESS: sql_generation, completed in 5.9s, attempt 1
2025-10-15 13:28:51,125 - individual_search_agent - INFO - DEBUG: SQL result received for compound WO3, applying intelligent phase filtering
2025-10-15 13:28:51,126 - individual_search_agent - INFO - DEBUG: Raw search_results type: <class 'list'>
2025-10-15 13:28:51,126 - individual_search_agent - INFO - DEBUG: execution_result keys: ['success', 'columns', 'rows', 'row_count', 'original_row_count', 'temperature_filtered', 'target_temperature_k', 'filter_temperature_range_k']
2025-10-15 13:28:51,126 - individual_search_agent - INFO - DEBUG: _last_columns: ['Formula', 'Structure', 'FirstName', 'SecondName', 'Phase', 'CAS', 'MeltingPoint', 'BoilingPoint', 'Density', 'Solubility', 'Color', 'H298', 'S298', 'Tmin', 'Tmax', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'ReliabilityClass', 'Reference']
2025-10-15 13:28:51,126 - individual_search_agent - INFO - DEBUG: First result type: <class 'list'>
2025-10-15 13:28:51,127 - individual_search_agent - INFO - DEBUG: First result: ['WO3', None, 'Tungsten(VI) oxide', None, 's', '1314-35-8', 1745.0, 2110.0, 7.16, 0.0, 17, -842.90864, 75.89776, 298.15, 1050.0, 87.6548, 16.166980184, -17.49749067776, 0.0, 0.0, 0.0, 1, 'Barin 89']
2025-10-15 13:28:51,127 - individual_search_agent - INFO - DEBUG: First result length: 23
2025-10-15 13:28:51,128 - individual_search_agent - INFO - DEBUG: First converted result: {'Formula': 'WO3', 'Structure': None, 'FirstName': 'Tungsten(VI) oxide', 'SecondName': None, 'Phase': 's', 'CAS': '1314-35-8', 'MeltingPoint': 1745.0, 'BoilingPoint': 2110.0, 'Density': 7.16, 'Solubility': 0.0, 'Color': 17, 'H298': -842.90864, 'S298': 75.89776, 'Tmin': 298.15, 'Tmax': 1050.0, 'f1': 87.6548, 'f2': 16.166980184, 'f3': -17.49749067776, 'f4': 0.0, 'f5': 0.0, 'f6': 0.0, 'ReliabilityClass': 1, 'Reference': 'Barin 89'}
2025-10-15 13:28:51,128 - individual_search_agent - INFO - DEBUG: First converted result keys: ['Formula', 'Structure', 'FirstName', 'SecondName', 'Phase', 'CAS', 'MeltingPoint', 'BoilingPoint', 'Density', 'Solubility', 'Color', 'H298', 'S298', 'Tmin', 'Tmax', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'ReliabilityClass', 'Reference']
2025-10-15 13:28:51,130 - individual_search_agent - INFO - DEBUG: Applying phase filter for WO3: T=298.15K, range=[200.0, 2000.0]
2025-10-15 13:28:51,130 - individual_search_agent - INFO - DEBUG: Search completed for compound WO3: 32 records selected, confidence=1.0
2025-10-15 13:28:51 - INFO - INFO: DETAILED RESULTS FOR WO3 (showing first 10 records):
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| Formula   | Phase   |   Tmin (K) |   Tmax (K) |   H298 (J/mol) |   S298 (J/mol·K) |   Melting Point (°C) |   Boiling Point (°C) |
+===========+=========+============+============+================+==================+======================+======================+
| WO3       | s       |      298.1 |       1050 |       -842.9   |           75.9   |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |     1050   |       1745 |          1.485 |            1.414 |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3(-g)   | g       |      298.1 |       1000 |       -650.5   |          291.5   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3(-g)   | g       |     1000   |       6000 |          0     |            0     |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |      298.1 |       1050 |       -842.9   |           75.9   |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |     1050   |       1745 |          1.485 |            1.414 |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3(-g)   | g       |      298.1 |       1000 |       -650.5   |          291.5   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3(-g)   | g       |     1000   |       6000 |          0     |            0     |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |      298.1 |       1050 |       -842.9   |           75.9   |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |     1050   |       1745 |          1.485 |            1.414 |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
2025-10-15 13:28:51,131 - thermo_agents_session_20251015_132816 - INFO - INFO: DETAILED RESULTS FOR WO3 (showing first 10 records):
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| Formula   | Phase   |   Tmin (K) |   Tmax (K) |   H298 (J/mol) |   S298 (J/mol·K) |   Melting Point (°C) |   Boiling Point (°C) |
+===========+=========+============+============+================+==================+======================+======================+
| WO3       | s       |      298.1 |       1050 |       -842.9   |           75.9   |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |     1050   |       1745 |          1.485 |            1.414 |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3(-g)   | g       |      298.1 |       1000 |       -650.5   |          291.5   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3(-g)   | g       |     1000   |       6000 |          0     |            0     |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |      298.1 |       1050 |       -842.9   |           75.9   |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |     1050   |       1745 |          1.485 |            1.414 |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3(-g)   | g       |      298.1 |       1000 |       -650.5   |          291.5   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3(-g)   | g       |     1000   |       6000 |          0     |            0     |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |      298.1 |       1050 |       -842.9   |           75.9   |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| WO3       | s       |     1050   |       1745 |          1.485 |            1.414 |                 1745 |                 2110 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
2025-10-15 13:28:51 - INFO - INFO: COMPOUND SUMMARY - WO3:
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| WO3        |              32 |            1 | 298.15-6000.0           | s, g     |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:28:51,132 - thermo_agents_session_20251015_132816 - INFO - INFO: COMPOUND SUMMARY - WO3:
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| WO3        |              32 |            1 | 298.15-6000.0           | s, g     |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:29:01,068 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-15 13:29:06,645 - sql_agent - INFO - Generated SQL query: SELECT * FROM compounds WHERE (TRIM(Formula) = 'Mg' OR Formula LIKE 'Mg(%') AND (Tmin IS NULL OR Tmax IS NULL OR (Tmin <= 2000.0 AND Tmax >= 200.0)) ORDER BY ReliabilityClass ASC, Phase ASC, ABS(298.15 - COALESCE(Tmin, 298.15)) ASC LIMIT 50
2025-10-15 13:29:06 - INFO - INFO: SQL GENERATION COMPLETE: Query length 240
2025-10-15 13:29:06,646 - thermo_agents_session_20251015_132816 - INFO - INFO: SQL GENERATION COMPLETE: Query length 240
2025-10-15 13:29:06,647 - sql_agent - INFO - SQL query cleaned
2025-10-15 13:29:06,647 - sql_agent - INFO - SQL query validation passed: 240 characters
2025-10-15 13:29:06,648 - sql_agent - INFO - Prepared result data with key: sql_result_b5a9fc44-129d-4b17-a645-b1596d892ec5
2025-10-15 13:29:06,649 - sql_agent - INFO - Sending SQL query to database agent for individual execution...
2025-10-15 13:29:06,649 - sql_agent - INFO - SQL query sent to database_agent: 7299867b-e631-4356-b9a9-460d96a9c297
2025-10-15 13:29:06 - INFO - ОПЕРАЦИЯ: [database_agent] -> EXECUTE_QUERY [from sql_agent]
2025-10-15 13:29:06,975 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [database_agent] -> EXECUTE_QUERY [from sql_agent]
2025-10-15 13:29:06,977 - database_agent - INFO - Executing individual SQL query for compound Mg: SELECT * FROM compounds WHERE (TRIM(Formula) = 'Mg' OR Formula LIKE 'Mg(%') AND (Tmin IS NULL OR Tma...
2025-10-15 13:29:06 - INFO - INFO: DATABASE EXECUTION START: SELECT * FROM compounds WHERE (TRIM(Formula) = 'Mg' OR Formula LIKE 'Mg(%') AND (Tmin IS NULL OR Tmax IS NULL OR (Tmin <= 2000.0 AND Tmax >= 200.0)) ORDER BY ReliabilityClass ASC, Phase ASC, ABS(298.15 - COALESCE(Tmin, 298.15)) ASC LIMIT 50
2025-10-15 13:29:06,978 - thermo_agents_session_20251015_132816 - INFO - INFO: DATABASE EXECUTION START: SELECT * FROM compounds WHERE (TRIM(Formula) = 'Mg' OR Formula LIKE 'Mg(%') AND (Tmin IS NULL OR Tmax IS NULL OR (Tmin <= 2000.0 AND Tmax >= 200.0)) ORDER BY ReliabilityClass ASC, Phase ASC, ABS(298.15 - COALESCE(Tmin, 298.15)) ASC LIMIT 50
2025-10-15 13:29:07,037 - database_agent - INFO - SQL executed successfully: 50 rows found
2025-10-15 13:29:07,038 - database_agent - INFO - Applying temperature range filtering: 200.0-2000.0K...
2025-10-15 13:29:07,038 - database_agent - INFO - Temperature filtering: 50 of 50 rows remain
2025-10-15 13:29:07 - INFO - INFO: TEMPERATURE FILTER: Range=200.0-2000.0K, Matched=50, Excluded=0
2025-10-15 13:29:07,040 - thermo_agents_session_20251015_132816 - INFO - INFO: TEMPERATURE FILTER: Range=200.0-2000.0K, Matched=50, Excluded=0
2025-10-15 13:29:07 - INFO - INFO: QUERY RESULTS: 50 rows, columns: 23
2025-10-15 13:29:07,040 - thermo_agents_session_20251015_132816 - INFO - INFO: QUERY RESULTS: 50 rows, columns: 23
2025-10-15 13:29:07,040 - database_agent - INFO - Database result stored with key: db_result_7299867b-e631-4356-b9a9-460d96a9c297
2025-10-15 13:29:07,040 - database_agent - INFO - Database execution successful: 50 results found
2025-10-15 13:29:07,041 - database_agent - INFO - Response sent to sql_agent
2025-10-15 13:29:07 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "execution_success": True, "row_count": 50, "result_key": "db_result_7299867b-e631-4356-b9a9-460d96a9c297", "direct_processing": True, ... }
2025-10-15 13:29:07,044 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "execution_success": True, "row_count": 50, "result_key": "db_result_7299867b-e631-4356-b9a9-460d96a9c297", "direct_processing": True, ... }
2025-10-15 13:29:07 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 65.58ms
2025-10-15 13:29:07,045 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 65.58ms
2025-10-15 13:29:07 - INFO - МАРШРУТ: FROM: sql_agent
2025-10-15 13:29:07,045 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: sql_agent
2025-10-15 13:29:07 - INFO - CORRELATION ID: 7299867b-e631-4356-b9a9-460d96a9c297
2025-10-15 13:29:07,046 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: 7299867b-e631-4356-b9a9-460d96a9c297
2025-10-15 13:29:07 - INFO - AGENT STORAGE: 5 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:07,046 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 5 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:07 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:07,046 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:07,046 - sql_agent - INFO - Received database result: success
2025-10-15 13:29:07,047 - sql_agent - INFO - Database execution successful: 50 rows
2025-10-15 13:29:07,047 - sql_agent - INFO - Database results ready for individual search agent processing
2025-10-15 13:29:07,047 - sql_agent - INFO - Storing result with key: sql_result_b5a9fc44-129d-4b17-a645-b1596d892ec5
2025-10-15 13:29:07,047 - sql_agent - INFO - Result stored successfully
2025-10-15 13:29:07,047 - sql_agent - INFO - Sending individual_sql_complete to individual_search_agent
2025-10-15 13:29:07 - INFO - INFO: SENDING INDIVIDUAL_SQL_COMPLETE: To individual_search_agent, key=sql_result_b5a9fc44-129d-4b17-a645-b1596d892ec5
2025-10-15 13:29:07,048 - thermo_agents_session_20251015_132816 - INFO - INFO: SENDING INDIVIDUAL_SQL_COMPLETE: To individual_search_agent, key=sql_result_b5a9fc44-129d-4b17-a645-b1596d892ec5
2025-10-15 13:29:07,048 - sql_agent - INFO - individual_sql_complete sent successfully to individual_search_agent
2025-10-15 13:29:07 - INFO - INFO: SQL GENERATED: 240 chars, 14 columns expected
2025-10-15 13:29:07,048 - thermo_agents_session_20251015_132816 - INFO - INFO: SQL GENERATED: 240 chars, 14 columns expected
2025-10-15 13:29:07,049 - sql_agent - INFO - Message processing completed successfully
2025-10-15 13:29:07 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "sql_query_length": 240, "expected_columns": 14, "result_key": "sql_result_b5a9fc44-129d-4b17-a645-b1596d892ec5", "database_execution": True, ... }
2025-10-15 13:29:07,051 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "sql_query_length": 240, "expected_columns": 14, "result_key": "sql_result_b5a9fc44-129d-4b17-a645-b1596d892ec5", "database_execution": True, ... }
2025-10-15 13:29:07 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 16103.66ms
2025-10-15 13:29:07,051 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 16103.66ms
2025-10-15 13:29:07 - INFO - МАРШРУТ: FROM: individual_search_agent
2025-10-15 13:29:07,051 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: individual_search_agent
2025-10-15 13:29:07 - INFO - CORRELATION ID: b5a9fc44-129d-4b17-a645-b1596d892ec5
2025-10-15 13:29:07,051 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: b5a9fc44-129d-4b17-a645-b1596d892ec5
2025-10-15 13:29:07 - INFO - AGENT STORAGE: 6 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:07,051 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 6 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:07 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:07,051 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:07 - INFO - ОПЕРАЦИЯ: [sql_agent] -> GENERATE_QUERY [from individual_search_agent]
2025-10-15 13:29:07,052 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [sql_agent] -> GENERATE_QUERY [from individual_search_agent]
2025-10-15 13:29:07,052 - sql_agent - INFO - Processing individual search for compound: MgO
2025-10-15 13:29:07,052 - sql_agent - INFO - Starting SQL query generation...
2025-10-15 13:29:07,085 - individual_search_agent - INFO - DEBUG: SQL result received successfully for message b5a9fc44-129d-4b17-a645-b1596d892ec5
2025-10-15 13:29:07,085 - individual_search_agent - INFO - sql_generation completed successfully in 21.9s (attempt 1)
2025-10-15 13:29:07 - INFO - INFO: OPERATION SUCCESS: sql_generation, completed in 21.9s, attempt 1
2025-10-15 13:29:07,085 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION SUCCESS: sql_generation, completed in 21.9s, attempt 1
2025-10-15 13:29:07,085 - individual_search_agent - INFO - DEBUG: SQL result received for compound Mg, applying intelligent phase filtering
2025-10-15 13:29:07,087 - individual_search_agent - INFO - DEBUG: Raw search_results type: <class 'list'>
2025-10-15 13:29:07,087 - individual_search_agent - INFO - DEBUG: execution_result keys: ['success', 'columns', 'rows', 'row_count', 'original_row_count', 'temperature_filtered', 'target_temperature_k', 'filter_temperature_range_k']
2025-10-15 13:29:07,087 - individual_search_agent - INFO - DEBUG: _last_columns: ['Formula', 'Structure', 'FirstName', 'SecondName', 'Phase', 'CAS', 'MeltingPoint', 'BoilingPoint', 'Density', 'Solubility', 'Color', 'H298', 'S298', 'Tmin', 'Tmax', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'ReliabilityClass', 'Reference']
2025-10-15 13:29:07,087 - individual_search_agent - INFO - DEBUG: First result type: <class 'list'>
2025-10-15 13:29:07,087 - individual_search_agent - INFO - DEBUG: First result: ['Mg(C2H4NO2)2(a)', None, 'Magnesium glycinate', None, 'a', None, 0.0, 0.0, 0.0, 0.0, 0, -1422.56, 167.36, 273.15, 333.15, -88324.5588208, 367281.81264, 15601.40053648, -429117.186296, 0.0, 0.0, 1, 'Shock 95']
2025-10-15 13:29:07,087 - individual_search_agent - INFO - DEBUG: First result length: 23
2025-10-15 13:29:07,088 - individual_search_agent - INFO - DEBUG: First converted result: {'Formula': 'Mg(C2H4NO2)2(a)', 'Structure': None, 'FirstName': 'Magnesium glycinate', 'SecondName': None, 'Phase': 'a', 'CAS': None, 'MeltingPoint': 0.0, 'BoilingPoint': 0.0, 'Density': 0.0, 'Solubility': 0.0, 'Color': 0, 'H298': -1422.56, 'S298': 167.36, 'Tmin': 273.15, 'Tmax': 333.15, 'f1': -88324.5588208, 'f2': 367281.81264, 'f3': 15601.40053648, 'f4': -429117.186296, 'f5': 0.0, 'f6': 0.0, 'ReliabilityClass': 1, 'Reference': 'Shock 95'}
2025-10-15 13:29:07,088 - individual_search_agent - INFO - DEBUG: First converted result keys: ['Formula', 'Structure', 'FirstName', 'SecondName', 'Phase', 'CAS', 'MeltingPoint', 'BoilingPoint', 'Density', 'Solubility', 'Color', 'H298', 'S298', 'Tmin', 'Tmax', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'ReliabilityClass', 'Reference']
2025-10-15 13:29:07,088 - individual_search_agent - INFO - DEBUG: Applying phase filter for Mg: T=298.15K, range=[200.0, 2000.0]
2025-10-15 13:29:07,088 - individual_search_agent - INFO - DEBUG: Search completed for compound Mg: 0 records selected, confidence=0.0
2025-10-15 13:29:07,733 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-15 13:29:09,928 - sql_agent - INFO - Generated SQL query: SELECT * FROM compounds WHERE (TRIM(Formula) = 'MgO' OR Formula LIKE 'MgO(%') LIMIT 100
2025-10-15 13:29:09 - INFO - INFO: SQL GENERATION COMPLETE: Query length 87
2025-10-15 13:29:09,929 - thermo_agents_session_20251015_132816 - INFO - INFO: SQL GENERATION COMPLETE: Query length 87
2025-10-15 13:29:09,929 - sql_agent - INFO - SQL query cleaned
2025-10-15 13:29:09,931 - sql_agent - INFO - SQL query validation passed: 87 characters
2025-10-15 13:29:09,931 - sql_agent - INFO - Prepared result data with key: sql_result_35004b93-30a9-4b3e-856e-3a7875b5a43e
2025-10-15 13:29:09,932 - sql_agent - INFO - Sending SQL query to database agent for individual execution...
2025-10-15 13:29:09,932 - sql_agent - INFO - SQL query sent to database_agent: f09345b2-f765-4af8-92bf-4589bb061fe8
2025-10-15 13:29:11 - INFO - ОПЕРАЦИЯ: [database_agent] -> EXECUTE_QUERY [from sql_agent]
2025-10-15 13:29:11,044 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [database_agent] -> EXECUTE_QUERY [from sql_agent]
2025-10-15 13:29:11,045 - database_agent - INFO - Executing individual SQL query for compound MgO: SELECT * FROM compounds WHERE (TRIM(Formula) = 'MgO' OR Formula LIKE 'MgO(%') LIMIT 100...
2025-10-15 13:29:11 - INFO - INFO: DATABASE EXECUTION START: SELECT * FROM compounds WHERE (TRIM(Formula) = 'MgO' OR Formula LIKE 'MgO(%') LIMIT 100
2025-10-15 13:29:11,046 - thermo_agents_session_20251015_132816 - INFO - INFO: DATABASE EXECUTION START: SELECT * FROM compounds WHERE (TRIM(Formula) = 'MgO' OR Formula LIKE 'MgO(%') LIMIT 100
2025-10-15 13:29:11,106 - database_agent - INFO - SQL executed successfully: 75 rows found
2025-10-15 13:29:11,107 - database_agent - INFO - Applying temperature range filtering: 200.0-2000.0K...
2025-10-15 13:29:11,107 - database_agent - INFO - Temperature filtering: 55 of 75 rows remain
2025-10-15 13:29:11 - INFO - INFO: TEMPERATURE FILTER: Range=200.0-2000.0K, Matched=55, Excluded=20
2025-10-15 13:29:11,107 - thermo_agents_session_20251015_132816 - INFO - INFO: TEMPERATURE FILTER: Range=200.0-2000.0K, Matched=55, Excluded=20
2025-10-15 13:29:11 - INFO - INFO: QUERY RESULTS: 55 rows, columns: 23
2025-10-15 13:29:11,108 - thermo_agents_session_20251015_132816 - INFO - INFO: QUERY RESULTS: 55 rows, columns: 23
2025-10-15 13:29:11,108 - database_agent - INFO - Database result stored with key: db_result_f09345b2-f765-4af8-92bf-4589bb061fe8
2025-10-15 13:29:11,108 - database_agent - INFO - Database execution successful: 55 results found
2025-10-15 13:29:11,108 - database_agent - INFO - Response sent to sql_agent
2025-10-15 13:29:11 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "execution_success": True, "row_count": 55, "result_key": "db_result_f09345b2-f765-4af8-92bf-4589bb061fe8", "direct_processing": True, ... }
2025-10-15 13:29:11,111 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "execution_success": True, "row_count": 55, "result_key": "db_result_f09345b2-f765-4af8-92bf-4589bb061fe8", "direct_processing": True, ... }
2025-10-15 13:29:11 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 65.16ms
2025-10-15 13:29:11,112 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 65.16ms
2025-10-15 13:29:11 - INFO - МАРШРУТ: FROM: sql_agent
2025-10-15 13:29:11,112 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: sql_agent
2025-10-15 13:29:11 - INFO - CORRELATION ID: f09345b2-f765-4af8-92bf-4589bb061fe8
2025-10-15 13:29:11,112 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: f09345b2-f765-4af8-92bf-4589bb061fe8
2025-10-15 13:29:11 - INFO - AGENT STORAGE: 7 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:11,112 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 7 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:11 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:11,114 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:11,114 - sql_agent - INFO - Received database result: success
2025-10-15 13:29:11,114 - sql_agent - INFO - Database execution successful: 55 rows
2025-10-15 13:29:11,115 - sql_agent - INFO - Database results ready for individual search agent processing
2025-10-15 13:29:11,115 - sql_agent - INFO - Storing result with key: sql_result_35004b93-30a9-4b3e-856e-3a7875b5a43e
2025-10-15 13:29:11,115 - sql_agent - INFO - Result stored successfully
2025-10-15 13:29:11,115 - sql_agent - INFO - Sending individual_sql_complete to individual_search_agent
2025-10-15 13:29:11 - INFO - INFO: SENDING INDIVIDUAL_SQL_COMPLETE: To individual_search_agent, key=sql_result_35004b93-30a9-4b3e-856e-3a7875b5a43e
2025-10-15 13:29:11,116 - thermo_agents_session_20251015_132816 - INFO - INFO: SENDING INDIVIDUAL_SQL_COMPLETE: To individual_search_agent, key=sql_result_35004b93-30a9-4b3e-856e-3a7875b5a43e
2025-10-15 13:29:11,116 - sql_agent - INFO - individual_sql_complete sent successfully to individual_search_agent
2025-10-15 13:29:11 - INFO - INFO: SQL GENERATED: 87 chars, 13 columns expected
2025-10-15 13:29:11,116 - thermo_agents_session_20251015_132816 - INFO - INFO: SQL GENERATED: 87 chars, 13 columns expected
2025-10-15 13:29:11,116 - sql_agent - INFO - Message processing completed successfully
2025-10-15 13:29:11 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "sql_query_length": 87, "expected_columns": 13, "result_key": "sql_result_35004b93-30a9-4b3e-856e-3a7875b5a43e", "database_execution": True, ... }
2025-10-15 13:29:11,119 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "sql_query_length": 87, "expected_columns": 13, "result_key": "sql_result_35004b93-30a9-4b3e-856e-3a7875b5a43e", "database_execution": True, ... }
2025-10-15 13:29:11 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 4063.94ms
2025-10-15 13:29:11,119 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 4063.94ms
2025-10-15 13:29:11 - INFO - МАРШРУТ: FROM: individual_search_agent
2025-10-15 13:29:11,119 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: individual_search_agent
2025-10-15 13:29:11 - INFO - CORRELATION ID: 35004b93-30a9-4b3e-856e-3a7875b5a43e
2025-10-15 13:29:11,119 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: 35004b93-30a9-4b3e-856e-3a7875b5a43e
2025-10-15 13:29:11 - INFO - AGENT STORAGE: 8 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:11,119 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 8 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:11 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:11,121 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:11 - INFO - ОПЕРАЦИЯ: [sql_agent] -> GENERATE_QUERY [from individual_search_agent]
2025-10-15 13:29:11,121 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [sql_agent] -> GENERATE_QUERY [from individual_search_agent]
2025-10-15 13:29:11,121 - sql_agent - INFO - Processing individual search for compound: W
2025-10-15 13:29:11,121 - sql_agent - INFO - Starting SQL query generation...
2025-10-15 13:29:11,167 - individual_search_agent - INFO - DEBUG: SQL result received successfully for message 35004b93-30a9-4b3e-856e-3a7875b5a43e
2025-10-15 13:29:11,167 - individual_search_agent - INFO - sql_generation completed successfully in 26.0s (attempt 1)
2025-10-15 13:29:11 - INFO - INFO: OPERATION SUCCESS: sql_generation, completed in 26.0s, attempt 1
2025-10-15 13:29:11,167 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION SUCCESS: sql_generation, completed in 26.0s, attempt 1
2025-10-15 13:29:11,168 - individual_search_agent - INFO - DEBUG: SQL result received for compound MgO, applying intelligent phase filtering
2025-10-15 13:29:11,168 - individual_search_agent - INFO - DEBUG: Raw search_results type: <class 'list'>
2025-10-15 13:29:11,168 - individual_search_agent - INFO - DEBUG: execution_result keys: ['success', 'columns', 'rows', 'row_count', 'original_row_count', 'temperature_filtered', 'target_temperature_k', 'filter_temperature_range_k']
2025-10-15 13:29:11,168 - individual_search_agent - INFO - DEBUG: _last_columns: ['Formula', 'Structure', 'FirstName', 'SecondName', 'Phase', 'CAS', 'MeltingPoint', 'BoilingPoint', 'Density', 'Solubility', 'Color', 'H298', 'S298', 'Tmin', 'Tmax', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'ReliabilityClass', 'Reference']
2025-10-15 13:29:11,168 - individual_search_agent - INFO - DEBUG: First result type: <class 'list'>
2025-10-15 13:29:11,168 - individual_search_agent - INFO - DEBUG: First result: ['MgO', None, 'Magnesium oxide', 'Periclase', 's', '1309-48-4', 3105.0, 3873.0, 3.58, 0.0, 7, -601.599967112, 26.9499998372, 298.15, 1700.0, 47.4851297856, 4.64757933408, -10.340209988, -0.2675768156592, 0.0, 0.0, 1, 'Knacke 91; Glushko 94; Landolt 01']
2025-10-15 13:29:11,169 - individual_search_agent - INFO - DEBUG: First result length: 23
2025-10-15 13:29:11,169 - individual_search_agent - INFO - DEBUG: First converted result: {'Formula': 'MgO', 'Structure': None, 'FirstName': 'Magnesium oxide', 'SecondName': 'Periclase', 'Phase': 's', 'CAS': '1309-48-4', 'MeltingPoint': 3105.0, 'BoilingPoint': 3873.0, 'Density': 3.58, 'Solubility': 0.0, 'Color': 7, 'H298': -601.599967112, 'S298': 26.9499998372, 'Tmin': 298.15, 'Tmax': 1700.0, 'f1': 47.4851297856, 'f2': 4.64757933408, 'f3': -10.340209988, 'f4': -0.2675768156592, 'f5': 0.0, 'f6': 0.0, 'ReliabilityClass': 1, 'Reference': 'Knacke 91; Glushko 94; Landolt 01'}
2025-10-15 13:29:11,169 - individual_search_agent - INFO - DEBUG: First converted result keys: ['Formula', 'Structure', 'FirstName', 'SecondName', 'Phase', 'CAS', 'MeltingPoint', 'BoilingPoint', 'Density', 'Solubility', 'Color', 'H298', 'S298', 'Tmin', 'Tmax', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'ReliabilityClass', 'Reference']
2025-10-15 13:29:11,169 - individual_search_agent - INFO - DEBUG: Applying phase filter for MgO: T=298.15K, range=[200.0, 2000.0]
2025-10-15 13:29:11,169 - individual_search_agent - INFO - DEBUG: Search completed for compound MgO: 22 records selected, confidence=1.0
2025-10-15 13:29:11 - INFO - INFO: DETAILED RESULTS FOR MgO (showing first 10 records):
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| Formula   | Phase   |   Tmin (K) |   Tmax (K) |   H298 (J/mol) |   S298 (J/mol·K) |   Melting Point (°C) |   Boiling Point (°C) |
+===========+=========+============+============+================+==================+======================+======================+
| MgO       | s       |      298.1 |       1700 |         -601.6 |            26.95 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |     1700   |       3100 |            0   |             0    |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO(M)    | s       |      298.1 |       3105 |         -598   |            27.91 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |      298.1 |       1700 |         -601.6 |            26.95 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |     1700   |       3100 |            0   |             0    |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO(M)    | s       |      298.1 |       3105 |         -598   |            27.91 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |      298.1 |       1700 |         -601.6 |            26.95 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |     1700   |       3100 |            0   |             0    |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO(M)    | s       |      298.1 |       3105 |         -598   |            27.91 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |      298.1 |       1700 |         -601.6 |            26.95 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
2025-10-15 13:29:11,170 - thermo_agents_session_20251015_132816 - INFO - INFO: DETAILED RESULTS FOR MgO (showing first 10 records):
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| Formula   | Phase   |   Tmin (K) |   Tmax (K) |   H298 (J/mol) |   S298 (J/mol·K) |   Melting Point (°C) |   Boiling Point (°C) |
+===========+=========+============+============+================+==================+======================+======================+
| MgO       | s       |      298.1 |       1700 |         -601.6 |            26.95 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |     1700   |       3100 |            0   |             0    |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO(M)    | s       |      298.1 |       3105 |         -598   |            27.91 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |      298.1 |       1700 |         -601.6 |            26.95 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |     1700   |       3100 |            0   |             0    |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO(M)    | s       |      298.1 |       3105 |         -598   |            27.91 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |      298.1 |       1700 |         -601.6 |            26.95 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |     1700   |       3100 |            0   |             0    |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO(M)    | s       |      298.1 |       3105 |         -598   |            27.91 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| MgO       | s       |      298.1 |       1700 |         -601.6 |            26.95 |                 3105 |                 3873 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
2025-10-15 13:29:11 - INFO - INFO: COMPOUND SUMMARY - MgO:
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| MgO        |              22 |            1 | 298.15-3105.0           | s        |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:29:11,170 - thermo_agents_session_20251015_132816 - INFO - INFO: COMPOUND SUMMARY - MgO:
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| MgO        |              22 |            1 | 298.15-3105.0           | s        |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:29:12,408 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-15 13:29:13,950 - sql_agent - INFO - Generated SQL query: SELECT * FROM compounds WHERE (TRIM(Formula) = 'W' OR Formula LIKE 'W(%') AND (Tmin IS NULL OR Tmax IS NULL OR (Tmin <= 2000.0 AND Tmax >= 200.0)) AND (298.15 >= Tmin AND 298.15 <= Tmax) ORDER BY ReliabilityClass ASC, Phase ASC, ABS(298.15 - COALESCE(Tmin, 298.15)) ASC LIMIT 50
2025-10-15 13:29:13 - INFO - INFO: SQL GENERATION COMPLETE: Query length 278
2025-10-15 13:29:13,950 - thermo_agents_session_20251015_132816 - INFO - INFO: SQL GENERATION COMPLETE: Query length 278
2025-10-15 13:29:13,951 - sql_agent - INFO - SQL query cleaned
2025-10-15 13:29:13,952 - sql_agent - INFO - SQL query validation passed: 278 characters
2025-10-15 13:29:13,953 - sql_agent - INFO - Prepared result data with key: sql_result_5586ce09-e712-46c0-a2e4-2aef643c4df8
2025-10-15 13:29:13,953 - sql_agent - INFO - Sending SQL query to database agent for individual execution...
2025-10-15 13:29:13,954 - sql_agent - INFO - SQL query sent to database_agent: 090281c4-737b-4df4-acfe-076ed03a2a71
2025-10-15 13:29:15 - INFO - ОПЕРАЦИЯ: [database_agent] -> EXECUTE_QUERY [from sql_agent]
2025-10-15 13:29:15,143 - thermo_agents_session_20251015_132816 - INFO - ОПЕРАЦИЯ: [database_agent] -> EXECUTE_QUERY [from sql_agent]
2025-10-15 13:29:15,144 - database_agent - INFO - Executing individual SQL query for compound W: SELECT * FROM compounds WHERE (TRIM(Formula) = 'W' OR Formula LIKE 'W(%') AND (Tmin IS NULL OR Tmax ...
2025-10-15 13:29:15 - INFO - INFO: DATABASE EXECUTION START: SELECT * FROM compounds WHERE (TRIM(Formula) = 'W' OR Formula LIKE 'W(%') AND (Tmin IS NULL OR Tmax IS NULL OR (Tmin <= 2000.0 AND Tmax >= 200.0)) AND (298.15 >= Tmin AND 298.15 <= Tmax) ORDER BY ReliabilityClass ASC, Phase ASC, ABS(298.15 - COALESCE(Tmin, 298.15)) ASC LIMIT 50
2025-10-15 13:29:15,144 - thermo_agents_session_20251015_132816 - INFO - INFO: DATABASE EXECUTION START: SELECT * FROM compounds WHERE (TRIM(Formula) = 'W' OR Formula LIKE 'W(%') AND (Tmin IS NULL OR Tmax IS NULL OR (Tmin <= 2000.0 AND Tmax >= 200.0)) AND (298.15 >= Tmin AND 298.15 <= Tmax) ORDER BY ReliabilityClass ASC, Phase ASC, ABS(298.15 - COALESCE(Tmin, 298.15)) ASC LIMIT 50
2025-10-15 13:29:15,207 - database_agent - INFO - SQL executed successfully: 50 rows found
2025-10-15 13:29:15,208 - database_agent - INFO - Applying temperature range filtering: 200.0-2000.0K...
2025-10-15 13:29:15,208 - database_agent - INFO - Temperature filtering: 50 of 50 rows remain
2025-10-15 13:29:15 - INFO - INFO: TEMPERATURE FILTER: Range=200.0-2000.0K, Matched=50, Excluded=0
2025-10-15 13:29:15,208 - thermo_agents_session_20251015_132816 - INFO - INFO: TEMPERATURE FILTER: Range=200.0-2000.0K, Matched=50, Excluded=0
2025-10-15 13:29:15 - INFO - INFO: QUERY RESULTS: 50 rows, columns: 23
2025-10-15 13:29:15,209 - thermo_agents_session_20251015_132816 - INFO - INFO: QUERY RESULTS: 50 rows, columns: 23
2025-10-15 13:29:15,209 - database_agent - INFO - Database result stored with key: db_result_090281c4-737b-4df4-acfe-076ed03a2a71
2025-10-15 13:29:15,209 - database_agent - INFO - Database execution successful: 50 results found
2025-10-15 13:29:15,210 - database_agent - INFO - Response sent to sql_agent
2025-10-15 13:29:15 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "execution_success": True, "row_count": 50, "result_key": "db_result_090281c4-737b-4df4-acfe-076ed03a2a71", "direct_processing": True, ... }
2025-10-15 13:29:15,214 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "execution_success": True, "row_count": 50, "result_key": "db_result_090281c4-737b-4df4-acfe-076ed03a2a71", "direct_processing": True, ... }
2025-10-15 13:29:15 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 67.67ms
2025-10-15 13:29:15,215 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 67.67ms
2025-10-15 13:29:15 - INFO - МАРШРУТ: FROM: sql_agent
2025-10-15 13:29:15,216 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: sql_agent
2025-10-15 13:29:15 - INFO - CORRELATION ID: 090281c4-737b-4df4-acfe-076ed03a2a71
2025-10-15 13:29:15,216 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: 090281c4-737b-4df4-acfe-076ed03a2a71
2025-10-15 13:29:15 - INFO - AGENT STORAGE: 9 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:15,216 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 9 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:15 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:15,216 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:15,217 - sql_agent - INFO - Received database result: success
2025-10-15 13:29:15,217 - sql_agent - INFO - Database execution successful: 50 rows
2025-10-15 13:29:15,217 - sql_agent - INFO - Database results ready for individual search agent processing
2025-10-15 13:29:15,217 - sql_agent - INFO - Storing result with key: sql_result_5586ce09-e712-46c0-a2e4-2aef643c4df8
2025-10-15 13:29:15,217 - sql_agent - INFO - Result stored successfully
2025-10-15 13:29:15,218 - sql_agent - INFO - Sending individual_sql_complete to individual_search_agent
2025-10-15 13:29:15 - INFO - INFO: SENDING INDIVIDUAL_SQL_COMPLETE: To individual_search_agent, key=sql_result_5586ce09-e712-46c0-a2e4-2aef643c4df8
2025-10-15 13:29:15,218 - thermo_agents_session_20251015_132816 - INFO - INFO: SENDING INDIVIDUAL_SQL_COMPLETE: To individual_search_agent, key=sql_result_5586ce09-e712-46c0-a2e4-2aef643c4df8
2025-10-15 13:29:15,218 - sql_agent - INFO - individual_sql_complete sent successfully to individual_search_agent
2025-10-15 13:29:15 - INFO - INFO: SQL GENERATED: 278 chars, 14 columns expected
2025-10-15 13:29:15,218 - thermo_agents_session_20251015_132816 - INFO - INFO: SQL GENERATED: 278 chars, 14 columns expected
2025-10-15 13:29:15,218 - sql_agent - INFO - Message processing completed successfully
2025-10-15 13:29:15 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "sql_query_length": 278, "expected_columns": 14, "result_key": "sql_result_5586ce09-e712-46c0-a2e4-2aef643c4df8", "database_execution": True, ... }
2025-10-15 13:29:15,222 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "message_type": "individual", "sql_query_length": 278, "expected_columns": 14, "result_key": "sql_result_5586ce09-e712-46c0-a2e4-2aef643c4df8", "database_execution": True, ... }
2025-10-15 13:29:15 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 4098.72ms
2025-10-15 13:29:15,222 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 4098.72ms
2025-10-15 13:29:15 - INFO - МАРШРУТ: FROM: individual_search_agent
2025-10-15 13:29:15,222 - thermo_agents_session_20251015_132816 - INFO - МАРШРУТ: FROM: individual_search_agent
2025-10-15 13:29:15 - INFO - CORRELATION ID: 5586ce09-e712-46c0-a2e4-2aef643c4df8
2025-10-15 13:29:15,222 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: 5586ce09-e712-46c0-a2e4-2aef643c4df8
2025-10-15 13:29:15 - INFO - AGENT STORAGE: 10 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:15,222 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 10 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:15 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:15,223 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:15,282 - individual_search_agent - INFO - DEBUG: SQL result received successfully for message 5586ce09-e712-46c0-a2e4-2aef643c4df8
2025-10-15 13:29:15,284 - individual_search_agent - INFO - Adapted timeout for sql_generation: 33.0s → 39.3s (avg: 21.0s, std: 9.2s)
2025-10-15 13:29:15 - INFO - INFO: TIMEOUT ADAPTED: sql_generation, 33.0s → 39.3s
2025-10-15 13:29:15,284 - thermo_agents_session_20251015_132816 - INFO - INFO: TIMEOUT ADAPTED: sql_generation, 33.0s → 39.3s
2025-10-15 13:29:15,285 - individual_search_agent - INFO - sql_generation completed successfully in 30.1s (attempt 1)
2025-10-15 13:29:15 - INFO - INFO: OPERATION SUCCESS: sql_generation, completed in 30.1s, attempt 1
2025-10-15 13:29:15,285 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION SUCCESS: sql_generation, completed in 30.1s, attempt 1
2025-10-15 13:29:15,286 - individual_search_agent - INFO - DEBUG: SQL result received for compound W, applying intelligent phase filtering
2025-10-15 13:29:15,286 - individual_search_agent - INFO - DEBUG: Raw search_results type: <class 'list'>
2025-10-15 13:29:15,286 - individual_search_agent - INFO - DEBUG: execution_result keys: ['success', 'columns', 'rows', 'row_count', 'original_row_count', 'temperature_filtered', 'target_temperature_k', 'filter_temperature_range_k']
2025-10-15 13:29:15,287 - individual_search_agent - INFO - DEBUG: _last_columns: ['Formula', 'Structure', 'FirstName', 'SecondName', 'Phase', 'CAS', 'MeltingPoint', 'BoilingPoint', 'Density', 'Solubility', 'Color', 'H298', 'S298', 'Tmin', 'Tmax', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'ReliabilityClass', 'Reference']
2025-10-15 13:29:15,288 - individual_search_agent - INFO - DEBUG: First result type: <class 'list'>
2025-10-15 13:29:15,288 - individual_search_agent - INFO - DEBUG: First result: ['W(+g)', None, 'Tungsten +ion', None, 'g', '16557-44-1', 0.0, 0.0, 0.0, 0.0, 0, 1627.688968, 179.99989538, 298.15, 800.0, 6.43387817736, 44.1231811856, 3.14312188544, -19.7054291504, 0.0, 0.0, 1, 'JANAF 85; Belov 99; Nasa 99']
2025-10-15 13:29:15,288 - individual_search_agent - INFO - DEBUG: First result length: 23
2025-10-15 13:29:15,289 - individual_search_agent - INFO - DEBUG: First converted result: {'Formula': 'W(+g)', 'Structure': None, 'FirstName': 'Tungsten +ion', 'SecondName': None, 'Phase': 'g', 'CAS': '16557-44-1', 'MeltingPoint': 0.0, 'BoilingPoint': 0.0, 'Density': 0.0, 'Solubility': 0.0, 'Color': 0, 'H298': 1627.688968, 'S298': 179.99989538, 'Tmin': 298.15, 'Tmax': 800.0, 'f1': 6.43387817736, 'f2': 44.1231811856, 'f3': 3.14312188544, 'f4': -19.7054291504, 'f5': 0.0, 'f6': 0.0, 'ReliabilityClass': 1, 'Reference': 'JANAF 85; Belov 99; Nasa 99'}
2025-10-15 13:29:15,289 - individual_search_agent - INFO - DEBUG: First converted result keys: ['Formula', 'Structure', 'FirstName', 'SecondName', 'Phase', 'CAS', 'MeltingPoint', 'BoilingPoint', 'Density', 'Solubility', 'Color', 'H298', 'S298', 'Tmin', 'Tmax', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'ReliabilityClass', 'Reference']
2025-10-15 13:29:15,290 - individual_search_agent - INFO - DEBUG: Applying phase filter for W: T=298.15K, range=[200.0, 2000.0]
2025-10-15 13:29:15,290 - individual_search_agent - INFO - DEBUG: Search completed for compound W: 35 records selected, confidence=1.0
2025-10-15 13:29:15 - INFO - INFO: DETAILED RESULTS FOR W (showing first 10 records):
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| Formula   | Phase   |   Tmin (K) |   Tmax (K) |   H298 (J/mol) |   S298 (J/mol·K) |   Melting Point (°C) |   Boiling Point (°C) |
+===========+=========+============+============+================+==================+======================+======================+
| W(+g)     | g       |      298.1 |        800 |         1628   |            180   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(CO)6(g) | g       |      298.1 |        800 |         -876.4 |            501.4 |                 -443 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(OH)2(g) | g       |      298.1 |        700 |           60   |            303.8 |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(+g)     | g       |      298.1 |        800 |         1628   |            180   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(CO)6(g) | g       |      298.1 |        800 |         -876.4 |            501.4 |                 -443 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(OH)2(g) | g       |      298.1 |        700 |           60   |            303.8 |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(+g)     | g       |      298.1 |        800 |         1628   |            180   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(CO)6(g) | g       |      298.1 |        800 |         -876.4 |            501.4 |                 -443 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(OH)2(g) | g       |      298.1 |        700 |           60   |            303.8 |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(+g)     | g       |      298.1 |       1500 |         1628   |            180   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
2025-10-15 13:29:15,291 - thermo_agents_session_20251015_132816 - INFO - INFO: DETAILED RESULTS FOR W (showing first 10 records):
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| Formula   | Phase   |   Tmin (K) |   Tmax (K) |   H298 (J/mol) |   S298 (J/mol·K) |   Melting Point (°C) |   Boiling Point (°C) |
+===========+=========+============+============+================+==================+======================+======================+
| W(+g)     | g       |      298.1 |        800 |         1628   |            180   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(CO)6(g) | g       |      298.1 |        800 |         -876.4 |            501.4 |                 -443 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(OH)2(g) | g       |      298.1 |        700 |           60   |            303.8 |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(+g)     | g       |      298.1 |        800 |         1628   |            180   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(CO)6(g) | g       |      298.1 |        800 |         -876.4 |            501.4 |                 -443 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(OH)2(g) | g       |      298.1 |        700 |           60   |            303.8 |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(+g)     | g       |      298.1 |        800 |         1628   |            180   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(CO)6(g) | g       |      298.1 |        800 |         -876.4 |            501.4 |                 -443 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(OH)2(g) | g       |      298.1 |        700 |           60   |            303.8 |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
| W(+g)     | g       |      298.1 |       1500 |         1628   |            180   |                    0 |                    0 |
+-----------+---------+------------+------------+----------------+------------------+----------------------+----------------------+
2025-10-15 13:29:15 - INFO - INFO: COMPOUND SUMMARY - W:
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| W          |              35 |            1 | 100.0-20000.0           | g, s     |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:29:15,292 - thermo_agents_session_20251015_132816 - INFO - INFO: COMPOUND SUMMARY - W:
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| W          |              35 |            1 | 100.0-20000.0           | g, s     |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:29:15 - INFO - INFO: INDIVIDUAL SEARCH RESULTS - AGGREGATED DATA:
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| WO3        |              32 |            1 | 298.15-6000.0           | s, g     |
+------------+-----------------+--------------+-------------------------+----------+
| Mg         |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
| MgO        |              22 |            1 | 298.15-3105.0           | s        |
+------------+-----------------+--------------+-------------------------+----------+
| W          |              35 |            1 | 100.0-20000.0           | g, s     |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:29:15,293 - thermo_agents_session_20251015_132816 - INFO - INFO: INDIVIDUAL SEARCH RESULTS - AGGREGATED DATA:
+------------+-----------------+--------------+-------------------------+----------+
| Compound   |   Records Count |   Confidence | Temperature Range (K)   | Phases   |
+============+=================+==============+=========================+==========+
| WO3        |              32 |            1 | 298.15-6000.0           | s, g     |
+------------+-----------------+--------------+-------------------------+----------+
| Mg         |               0 |            0 | N/A                     | N/A      |
+------------+-----------------+--------------+-------------------------+----------+
| MgO        |              22 |            1 | 298.15-3105.0           | s        |
+------------+-----------------+--------------+-------------------------+----------+
| W          |              35 |            1 | 100.0-20000.0           | g, s     |
+------------+-----------------+--------------+-------------------------+----------+
2025-10-15 13:29:15 - INFO - INFO: SEARCH METADATA:
2025-10-15 13:29:15,293 - thermo_agents_session_20251015_132816 - INFO - INFO: SEARCH METADATA:
2025-10-15 13:29:15 - INFO - INFO:   original_query: При какой температуре провзаимодействует оксид вольфрама с магнием?
2025-10-15 13:29:15,293 - thermo_agents_session_20251015_132816 - INFO - INFO:   original_query: При какой температуре провзаимодействует оксид вольфрама с магнием?
2025-10-15 13:29:15 - INFO - INFO:   compounds_count: 4
2025-10-15 13:29:15,293 - thermo_agents_session_20251015_132816 - INFO - INFO:   compounds_count: 4
2025-10-15 13:29:15 - INFO - INFO:   compounds: WO3, Mg, MgO, W
2025-10-15 13:29:15,293 - thermo_agents_session_20251015_132816 - INFO - INFO:   compounds: WO3, Mg, MgO, W
2025-10-15 13:29:15 - INFO - INFO:   temperature_k: 298.15
2025-10-15 13:29:15,294 - thermo_agents_session_20251015_132816 - INFO - INFO:   temperature_k: 298.15
2025-10-15 13:29:15 - INFO - INFO:   temperature_range_k: [200.0, 2000.0]
2025-10-15 13:29:15,294 - thermo_agents_session_20251015_132816 - INFO - INFO:   temperature_range_k: [200.0, 2000.0]
2025-10-15 13:29:15 - INFO - INFO:   phases: ['s', 's', 's', 's']
2025-10-15 13:29:15,294 - thermo_agents_session_20251015_132816 - INFO - INFO:   phases: ['s', 's', 's', 's']
2025-10-15 13:29:15 - INFO - INFO:   overall_confidence: 0.75
2025-10-15 13:29:15,294 - thermo_agents_session_20251015_132816 - INFO - INFO:   overall_confidence: 0.75
2025-10-15 13:29:15 - INFO - INFO:   missing_compounds: ['Mg']
2025-10-15 13:29:15,294 - thermo_agents_session_20251015_132816 - INFO - INFO:   missing_compounds: ['Mg']
2025-10-15 13:29:15 - INFO - INFO:   warnings_count: 2
2025-10-15 13:29:15,295 - thermo_agents_session_20251015_132816 - INFO - INFO:   warnings_count: 2
2025-10-15 13:29:15,298 - thermo_agents.agent_storage - INFO - MESSAGE SENT WITH ACK: individual_search_agent -> orchestrator | Type: individual_search_complete | ID: 2a684bb1-567b-46ba-9679-292c5eaa5853
2025-10-15 13:29:15,298 - individual_search_agent - INFO - Individual search result sent to orchestrator: 2a684bb1-567b-46ba-9679-292c5eaa5853
2025-10-15 13:29:15,298 - individual_search_agent - INFO - Individual search completed: 4 compounds processed
2025-10-15 13:29:15,345 - thermo_agents.agent_storage - INFO - IMPORTANT MESSAGE: individual_search_agent -> orchestrator | Type: individual_search_complete | ID: 2a684bb1-567b-46ba-9679-292c5eaa5853 | Correlation: a619eb0c-7bf6-4cf7-a053-156ad766073f
2025-10-15 13:29:15,347 - thermo_agents.agent_storage - INFO - ACK SENT: orchestrator -> individual_search_agent | Original: 2a684bb1-567b-46ba-9679-292c5eaa5853 | Status: received
2025-10-15 13:29:15,347 - orchestrator - INFO - DEBUG: Received individual search result: success, correlation_id: a619eb0c-7bf6-4cf7-a053-156ad766073f
2025-10-15 13:29:15 - INFO - INFO: INDIVIDUAL SEARCH COMPLETE: 4 compounds processed
2025-10-15 13:29:15,347 - thermo_agents_session_20251015_132816 - INFO - INFO: INDIVIDUAL SEARCH COMPLETE: 4 compounds processed
2025-10-15 13:29:15,347 - orchestrator - INFO - DEBUG: Successfully retrieved individual result with correlation_id: a619eb0c-7bf6-4cf7-a053-156ad766073f
2025-10-15 13:29:15,347 - individual_search_agent - INFO - total_request completed successfully in 30.2s (attempt 1)
2025-10-15 13:29:15 - INFO - INFO: OPERATION SUCCESS: total_request, completed in 30.2s, attempt 1
2025-10-15 13:29:15,348 - thermo_agents_session_20251015_132816 - INFO - INFO: OPERATION SUCCESS: total_request, completed in 30.2s, attempt 1
2025-10-15 13:29:15 - INFO - РЕЗУЛЬТАТ: { "request_id": "orchestrator_request_2175887200000", "status": "success", "compounds_count": 4, "processing_type": "individual_search", "individual_results_count": 4, ... }
2025-10-15 13:29:15,353 - thermo_agents_session_20251015_132816 - INFO - РЕЗУЛЬТАТ: { "request_id": "orchestrator_request_2175887200000", "status": "success", "compounds_count": 4, "processing_type": "individual_search", "individual_results_count": 4, ... }
2025-10-15 13:29:15 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 40535.31ms
2025-10-15 13:29:15,354 - thermo_agents_session_20251015_132816 - INFO - ВРЕМЯ ВЫПОЛНЕНИЯ: 40535.31ms
2025-10-15 13:29:15 - INFO - CORRELATION ID: orch_req_2175887200000
2025-10-15 13:29:15,354 - thermo_agents_session_20251015_132816 - INFO - CORRELATION ID: orch_req_2175887200000
2025-10-15 13:29:15 - INFO - AGENT STORAGE: 11 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:15,354 - thermo_agents_session_20251015_132816 - INFO - AGENT STORAGE: 11 entries, 1 pending messages, 5 active sessions
2025-10-15 13:29:15 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
2025-10-15 13:29:15,354 - thermo_agents_session_20251015_132816 - INFO - ACTIVE AGENTS: thermo_agent, sql_agent, database_agent, individual_search_agent, orchestrator
