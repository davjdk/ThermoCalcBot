# –≠—Ç–∞–ø 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≠—Ç–∞–ø–∞ 4:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `PhaseTransition` —Å –ø–æ–ª—è–º–∏ `calculation_method` –∏ `reliability`
- –£—á–∏—Ç—ã–≤–∞–µ—Ç, —á—Ç–æ —ç–Ω—Ç–∞–ª—å–ø–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ **—Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è**, –∞ –Ω–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ –ë–î
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–µ—Ç–æ–¥ —Ä–∞—Å—á—ë—Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (calculated/heuristic)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ —Ä–∞—Å—á—ë—Ç–æ–≤

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ):**
- –¢–∞–±–ª–∏—Ü–∞: `compounds`, –ø–æ–ª—è: `MeltingPoint`, `BoilingPoint` (PascalCase)
- **–ù–ï–¢** –ø–æ–ª–µ–π `h_fusion`, `h_vaporization` –≤ –ë–î

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–≠—Ç–∞–ø:** 5 –∏–∑ 6
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–æ—Ü–µ–Ω–∫–∞):** 3-4 –¥–Ω—è
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –≠—Ç–∞–ø—ã 1-4 (–ø–æ–∏—Å–∫, —Å–µ–≥–º–µ–Ω—Ç—ã, –∑–∞–ø–∏—Å–∏, –ø–µ—Ä–µ—Ö–æ–¥—ã)

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –≠—Ç–∞–ø–æ–≤ 1-4 –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤ –±—É–¥—É—Ç –≥–æ—Ç–æ–≤—ã, –Ω–æ `MultiPhaseOrchestrator` –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –Ω–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É–≤–∏–¥–∏—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.

**–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
1. `MultiPhaseOrchestrator` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É
2. –§–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω, –Ω–µ –ø–æ–ª–Ω—ã–π
4. –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–∑–∞—Ö –∏ –∑–∞–ø–∏—Å—è—Ö

**–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–µ–∫—É—â–∏–º –≤—ã–≤–æ–¥–æ–º:**
```
–¢–µ–∫—É—â–∏–π –≤—ã–≤–æ–¥:
FeO ‚Äî Iron(II) oxide
  –§–∞–∑–∞: s | T_–ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏: 600-900 K
  H‚ÇÇ‚Çâ‚Çà: 0.000 –∫–î–∂/–º–æ–ª—å | S‚ÇÇ‚Çâ‚Çà: 0.000 –î–∂/(–º–æ–ª—å¬∑K)  ‚Üê –ù–ï–í–ï–†–ù–û

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
FeO ‚Äî Iron(II) oxide
  –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: 773-973K
  –†–∞—Å—á—ë—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: 298-5000K (–ø–æ–ª–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ë–î)
  –§–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã: –ø–ª–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ 1650K, –∫–∏–ø–µ–Ω–∏–µ –ø—Ä–∏ 3687K
  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∑—ã: s (298-1650K), l (1650-3687K)
  H‚ÇÇ‚Çâ‚Çà: -265.053 –∫–î–∂/–º–æ–ª—å | S‚ÇÇ‚Çâ‚Çà: 59.807 –î–∂/(–º–æ–ª—å¬∑K)  ‚Üê –í–ï–†–ù–û
```

## –¶–µ–ª—å —ç—Ç–∞–ø–∞

–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω–æ–π –ª–æ–≥–∏–∫–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–∞—Ö.

## –ó–∞–¥–∞—á–∏ —ç—Ç–∞–ø–∞

### 1. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è MultiPhaseOrchestrator

**–§–∞–π–ª:** `src/thermo_agents/orchestrator_multi_phase.py`

**–ó–∞–¥–∞—á–∏:**
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `TemperatureRangeResolver` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `PhaseSegmentBuilder` –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- –ü—Ä–∏–º–µ–Ω—è—Ç—å `MultiPhaseReactionCalculator` –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
class MultiPhaseOrchestrator:
    async def process_query_with_multi_phase(
        self,
        query: str
    ) -> str

    async def _process_reaction_calculation_multi_phase(
        self,
        params: ExtractedReactionParameters
    ) -> str

    def _determine_full_calculation_range(
        self,
        all_compounds_data: Dict[str, MultiPhaseCompoundData]
    ) -> Tuple[float, float]

    def _build_multi_phase_data(
        self,
        compounds_data: Dict[str, List[DatabaseRecord]]
    ) -> Dict[str, MultiPhaseCompoundData]
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ReactionCalculationFormatter

**–§–∞–π–ª:** `src/thermo_agents/formatting/reaction_calculation_formatter.py`

**–ó–∞–¥–∞—á–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ vs —Ä–∞—Å—á—ë—Ç–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∑—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞
- –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ –ø–æ–ª–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã
- –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º –∑–∞–ø–∏—Å—è–º

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
```python
class ReactionCalculationFormatter:
    def format_multi_phase_reaction(
        self,
        reaction_data: MultiPhaseReactionData,
        params: ExtractedReactionParameters
    ) -> str

    def _format_range_information(
        self,
        user_range: Optional[Tuple[float, float]],
        calculation_range: Tuple[float, float]
    ) -> str

    def _format_phase_information(
        self,
        compounds_data: Dict[str, MultiPhaseCompoundData]
    ) -> str

    def _format_transition_information(
        self,
        transitions: Dict[str, List[PhaseTransition]]
    ) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö.
        
        –í–ê–ñ–ù–û: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–µ—Ç–æ–¥ —Ä–∞—Å—á—ë—Ç–∞ (calculated/heuristic) –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å.
        –ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ, –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ.
        """

    def _format_data_usage_statistics(
        self,
        all_compounds_data: Dict[str, MultiPhaseCompoundData]
    ) -> str
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CompoundDataFormatter

**–§–∞–π–ª:** `src/thermo_agents/formatting/compound_data_formatter.py`

**–ó–∞–¥–∞—á–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–∞–∑–æ–≤—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ
- –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∑–∞–ø–∏—Å—è–º

```python
class CompoundDataFormatter:
    def format_multi_phase_compound(
        self,
        compound_data: MultiPhaseCompoundData,
        temperature_range: Optional[Tuple[float, float]] = None
    ) -> str

    def _format_phase_segments_table(
        self,
        segments: List[PhaseSegment]
    ) -> str

    def _format_transitions_table(
        self,
        transitions: List[PhaseTransition]
    ) -> str

    def _format_records_summary(
        self,
        compound_data: MultiPhaseCompoundData
    ) -> str
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ MultiPhaseReactionData

**–§–∞–π–ª:** `src/thermo_agents/models/aggregation.py`

**–ó–∞–¥–∞—á–∏:**
- –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤
- –í–∫–ª—é—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–∑–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—á—ë—Ç–æ–≤

```python
@dataclass
class MultiPhaseReactionData:
    balanced_equation: str
    reactants: List[str]
    products: List[str]
    stoichiometry: Dict[str, float]

    # –ù–æ–≤—ã–µ –ø–æ–ª—è
    user_temperature_range: Optional[Tuple[float, float]]
    calculation_range: Tuple[float, float]
    compounds_data: Dict[str, MultiPhaseCompoundData]
    phase_changes: List[Tuple[float, str, str]]  # (T, compound, transition)

    # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
    calculation_table: List[Dict[str, Any]]
    data_statistics: Dict[str, Any]

    # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    calculation_method: str
    total_records_used: int
    phases_used: Set[str]
```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ExtractedReactionParameters

**–§–∞–π–ª:** `src/thermo_agents/models/extraction.py`

**–ó–∞–¥–∞—á–∏:**
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤
- –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –∑–∞–ø—Ä–æ—Å–µ

```python
@dataclass
class ExtractedReactionParameters:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è

    # –ù–æ–≤—ã–µ –ø–æ–ª—è
    use_multi_phase: bool = True  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã
    full_data_search: bool = True  # –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–∏—Å–∫–µ
    user_preferences: Dict[str, Any] = field(default_factory=dict)
```

## –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–≥–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ù–æ–≤—ã–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```python
async def process_query_with_multi_phase(self, query: str) -> str:
    # 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    params = await self.thermodynamic_agent.extract_parameters(query)

    # 2. –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π (–±–µ–∑ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
    all_records = {}
    for compound in params.all_compounds:
        result = await self.searcher.search_compound(
            compound,
            temperature_range=None,  # ‚Üê –ö–õ–Æ–ß–ï–í–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï
            max_records=200
        )
        all_records[compound] = result.records

    # 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
    calculation_range = self._determine_full_calculation_range(all_records)

    # 4. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ñ–∞–∑–æ–≤—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤
    multi_phase_data = self._build_multi_phase_data(all_records)

    # 5. –†–∞—Å—á—ë—Ç—ã —Å —É—á—ë—Ç–æ–º —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
    if params.query_type == "reaction_calculation":
        reaction_data = await self.reaction_calculator.calculate_reaction_with_transitions(
            multi_phase_data, params.stoichiometry, calculation_range
        )

        # 6. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
        return self.reaction_formatter.format_multi_phase_reaction(
            reaction_data, params
        )
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã–≤–æ–¥–∞ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π:**
```
================================================================================
‚öóÔ∏è –¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Ä–µ–∞–∫—Ü–∏–∏ (–ü–æ–ª–Ω–∞—è –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞)
================================================================================

–£—Ä–∞–≤–Ω–µ–Ω–∏–µ: FeO + H‚ÇÇS ‚Üí FeS + H‚ÇÇO

–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: 500-700¬∞C (773-973K)
–†–∞—Å—á—ë—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: 298-5000K (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)

‚ÑπÔ∏è  –ò–ù–§–û–†–ú–ê–¶–ò–Ø: –†–∞—Å—á—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã.
    –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –±–∞–∑–æ–≤—ã—Ö —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤ (H‚ÇÇ‚Çâ‚Çà, S‚ÇÇ‚Çâ‚Çà)
    –∏ —É—á—ë—Ç —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.

–î–∞–Ω–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤:
--------------------------------------------------------------------------------
FeO ‚Äî Iron(II) oxide
  –û–±—â–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω: 298-5000K
  –§–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã: 
    ‚Ä¢ –ü–ª–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ 1650K, ŒîH = 31.5 –∫–î–∂/–º–æ–ª—å (—Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ –∏–∑ H298)
    ‚Ä¢ –ö–∏–ø–µ–Ω–∏–µ –ø—Ä–∏ 3687K, ŒîH ‚âà 314 –∫–î–∂/–º–æ–ª—å (—ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞)
  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∑—ã: s (298-1650K), l (1650-3687K), g (3687-5000K)
  H‚ÇÇ‚Çâ‚Çà: -265.053 –∫–î–∂/–º–æ–ª—å | S‚ÇÇ‚Çâ‚Çà: 59.807 –î–∂/(–º–æ–ª—å¬∑K)
  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: 6 –∏–∑ 6
  
  ‚ö†Ô∏è  –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≠–Ω—Ç–∞–ª—å–ø–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ.
      –î–ª—è –ø–ª–∞–≤–ª–µ–Ω–∏—è - –∏–∑ —Ä–∞–∑–Ω–∏—Ü—ã H298 —Ñ–∞–∑, –¥–ª—è –∫–∏–ø–µ–Ω–∏—è - –ø–æ –ø—Ä–∞–≤–∏–ª—É –¢—Ä—É—Ç–æ–Ω–∞.

H‚ÇÇS ‚Äî Hydrogen sulfide
  –û–±—â–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω: 298-5000K
  –§–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã: 
    ‚Ä¢ –ü–ª–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ 187.7K (–≤–Ω–µ —Ä–∞—Å—á—ë—Ç–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
    ‚Ä¢ –ö–∏–ø–µ–Ω–∏–µ –ø—Ä–∏ 213.6K (–≤–Ω–µ —Ä–∞—Å—á—ë—Ç–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∑—ã: g (298-5000K)
  H‚ÇÇ‚Çâ‚Çà: -20.502 –∫–î–∂/–º–æ–ª—å | S‚ÇÇ‚Çâ‚Çà: 205.752 –î–∂/(–º–æ–ª—å¬∑K)
  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: 27 –∏–∑ 47

[... –¥—Ä—É–≥–∏–µ –≤–µ—â–µ—Å—Ç–≤–∞ ...]

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞:
| T(K) | ŒîH¬∞ (–∫–î–∂/–º–æ–ª—å) | ŒîS¬∞ (–î–∂/–ö¬∑–º–æ–ª—å) | ŒîG¬∞ (–∫–î–∂/–º–æ–ª—å) | –§–∞–∑–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                         |
| ---- | -------------- | --------------- | -------------- | ---- | ----------------------------------- |
| 298  | -33.45         | -45.23          | -19.97         | s,g  | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è                 |
| 773  | -28.12         | -42.11          | -4.58          | s,g  | ‚Üê –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω              |
| 873  | -27.85         | -41.98          | -1.21          | s,g  |                                     |
| 973  | -27.60         | -41.87          | +1.12          | s,g  | ‚Üê –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω              |
| 1650 | -25.30         | -40.50          | +41.53         | s‚Üíl  | –ü–ª–∞–≤–ª–µ–Ω–∏–µ FeO (ŒîH‚âà31.5 –∫–î–∂/–º–æ–ª—å)    |
| 3687 | -22.15         | -39.20          | +122.48        | l‚Üíg  | –ö–∏–ø–µ–Ω–∏–µ FeO (ŒîH‚âà314 –∫–î–∂/–º–æ–ª—å, —ç–≤—Ä.) |
| 5000 | -18.90         | -38.10          | +171.60        | g,g  | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞            |

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞:
- –í—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞–ø–∏—Å–µ–π: 156 –∏–∑ 220
- –§–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —É—á—Ç–µ–Ω–æ: 2 (FeO: –ø–ª–∞–≤–ª–µ–Ω–∏–µ, –∫–∏–ø–µ–Ω–∏–µ)
- –ú–µ—Ç–æ–¥—ã —Ä–∞—Å—á—ë—Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤: 1 calculated, 1 heuristic
- –ü–æ–∫—Ä—ã—Ç–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: 100% –¥–ª—è –≤—Å–µ—Ö –≤–µ—â–µ—Å—Ç–≤ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 2.3 —Å–µ–∫—É–Ω–¥—ã
```

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**
   - [ ] `MultiPhaseOrchestrator` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≠—Ç–∞–ø–æ–≤ 1-4
   - [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   - [ ] –†–∞—Å—á—ë—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - [ ] –ú–Ω–æ–≥–æ—Ñ–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

2. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞:**
   - [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π vs —Ä–∞—Å—á—ë—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
   - [ ] –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö —Å —ç–Ω—Ç–∞–ª—å–ø–∏—è–º–∏
   - [ ] –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ —Ä–∞—Å—á—ë—Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (calculated/heuristic)
   - [ ] –í—ã–≤–æ–¥—è—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∑—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞
   - [ ] –ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –æ –ø–æ–ª–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã
   - [ ] –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ —Ä–∞—Å—á—ë—Ç–æ–≤

3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:**
   - [ ] –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–∞—Ö
   - [ ] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
   - [ ] –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
   - [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤
   - [ ] –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç–æ–≤ —ç–Ω—Ç–∞–ª—å–ø–∏–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
   - [ ] –ò–Ω–¥–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ —Ä–∞—Å—á—ë—Ç–∞ (—Å–∏–º–≤–æ–ª—ã ‚âà –¥–ª—è —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π)

4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - [ ] –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ ‚â§ 3 —Å–µ–∫—É–Ω–¥
   - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö
   - [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

1. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:**
   - [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–º–µ—é—Ç –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
   - [ ] Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É
   - [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
   - [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ ‚â• 85%

2. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - [ ] –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—Ç–∞—Ä—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏
   - [ ] Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
   - [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã

**–§–∞–π–ª:** `tests/unit/test_multi_phase_orchestrator.py`

```python
class TestMultiPhaseOrchestrator:
    async def test_process_query_with_multi_phase(self)
    async def test_determine_full_calculation_range(self)
    async def test_build_multi_phase_data(self)
    async def test_handle_missing_data(self)
    async def test_user_range_preservation(self)
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–§–∞–π–ª:** `tests/integration/test_stage_05_orchestrator_update.py`

```python
class TestStage5OrchestratorUpdate:
    async def test_feo_h2s_full_calculation(self):
        """–¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ FeO + H‚ÇÇS."""
        
    async def test_formatting_multi_phase_output(self):
        """–¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞."""
        
    async def test_user_vs_calculation_range_display(self):
        """–¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ vs —Ä–∞—Å—á—ë—Ç–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞."""
        
    async def test_phase_transition_information(self):
        """
        –¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö.
        
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
        - –ü–æ–∫–∞–∑ —ç–Ω—Ç–∞–ª—å–ø–∏–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
        - –£–∫–∞–∑–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ —Ä–∞—Å—á—ë—Ç–∞ (calculated/heuristic)
        - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ—Å—Ç–∏
        """
        
    async def test_calculation_method_display(self):
        """–¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞ —Ä–∞—Å—á—ë—Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤."""
        
    async def test_data_usage_statistics(self):
        """–¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö."""
        
    async def test_performance_full_pipeline(self):
        """–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞."""
```

### –¢–µ—Å—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```python
class TestStage5Formatting:
    def test_multi_phase_reaction_formatting(self):
        """–¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏."""
        
    def test_compound_data_multi_phase_formatting(self):
        """–¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤–∞."""
        
    def test_range_information_display(self):
        """–¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö."""
        
    def test_phase_transition_display(self):
        """
        –¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.
        
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
        - –ü–æ–∫–∞–∑ ŒîH –∏ ŒîS –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
        - –ú–µ—Ç–æ–¥ —Ä–∞—Å—á—ë—Ç–∞ (calculated/heuristic)
        - –°–∏–º–≤–æ–ª—ã –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∏—è (‚âà –¥–ª—è —ç–≤—Ä–∏—Å—Ç–∏–∫–∏)
        """
        
    def test_calculation_method_indicators(self):
        """–¢–µ—Å—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –º–µ—Ç–æ–¥–∞ —Ä–∞—Å—á—ë—Ç–∞."""
        
    def test_statistics_display(self):
        """–¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏."""
```

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏

### –†–∏—Å–∫ 1: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–∏—Å–∫ 2: –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã–≤–æ–¥–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–ø–µ—Ä–µ—Ö–æ–¥—ã, –º–µ—Ç–æ–¥—ã, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è) –º–æ–∂–µ—Ç –∑–∞–ø—É—Ç–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** 
  - –ß—ë—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (—Å–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª–µ–π)
  - –ò–∫–æ–Ω–∫–∏ –∏ —Å–∏–º–≤–æ–ª—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è (‚ö†Ô∏è , ‚âà, ‚úì)
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å–µ–∫—Ü–∏—é

### –†–∏—Å–∫ 3: –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- **–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞—Ä—ã–π –∫–æ–¥ –º–æ–∂–µ—Ç –æ–∂–∏–¥–∞—Ç—å –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** Adapter pattern, fallback –º–µ—Ç–æ–¥—ã

### –†–∏—Å–∫ 4: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ–ª—å—à–æ–π –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –õ–µ–Ω–∏–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û–±–Ω–æ–≤–∏—Ç—å:
1. **User Guide** ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞
2. **API Reference** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. **Architecture.md** ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –°–æ–∑–¥–∞—Ç—å:
1. **Multi-Phase Output Guide** ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—ã–≤–æ–¥—É —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
2. **Migration Guide v2.1‚Üív2.2** ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
3. **Performance Guide** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **Transition Calculations Explanation** ‚Äî –ø–æ—è—Å–Ω–µ–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–æ–≤ —ç–Ω—Ç–∞–ª—å–ø–∏–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
5. **Uncertainty Guide** ‚Äî –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–∞—Å—á—ë—Ç–æ–≤

## –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞

- **–î–µ–Ω—å 1:** –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `MultiPhaseOrchestrator` –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–î–µ–Ω—å 2:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `ReactionCalculationFormatter` –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–î–µ–Ω—å 3:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `CompoundDataFormatter` –∏ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- **–î–µ–Ω—å 4:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ

- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
- **Code Review:** –í–µ–¥—É—â–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä
- **UX/UI:** –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É –æ–ø—ã—Ç—É

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

1. **FeO + H‚ÇÇS –ø—Ä–∏–º–µ—Ä:** –ü–æ–ª–Ω—ã–π –º–Ω–æ–≥–æ—Ñ–∞–∑–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
3. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:** –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ —Ä–∞—Å—á—ë—Ç–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
4. **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ ‚â§ 3 —Å–µ–∫—É–Ω–¥
6. **–ö–∞—á–µ—Å—Ç–≤–æ:** –í–µ—Å—å –≤—ã–≤–æ–¥ –ø–æ–Ω—è—Ç–µ–Ω –∏ —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω
7. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ (‚ö†Ô∏è, ‚âà) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
8. **–¢–µ—Å—Ç—ã:** –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –ø–æ–∫—Ä—ã—Ç–∏–µ ‚â• 85%
9. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é (–≠—Ç–∞–ø 6)

---

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –≠—Ç–∞–ø–æ–≤ 1-4
**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

**v1.1 (2025-10-29):** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —É—á—ë—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –≠—Ç–∞–ø–∞ 4
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ —Ä–∞—Å—á—ë—Ç–∞ —ç–Ω—Ç–∞–ª—å–ø–∏–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (calculated/heuristic)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ —Ä–∞—Å—á—ë—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (‚ö†Ô∏è, ‚âà) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω: –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ FeO
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã: –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ —Ä–∞—Å—á—ë—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç–æ–≤
- üìä –£—Ç–æ—á–Ω–µ–Ω–∞: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ç–æ–¥—ã —Ä–∞—Å—á—ë—Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

**v1.0 (–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è):** –ë–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è