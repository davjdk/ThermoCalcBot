# –≠—Ç–∞–ø 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 1-2 –¥–Ω—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π
**–†–∏—Å–∫–∏**: –ù–∏–∑–∫–∏–µ
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

## –û–±–∑–æ—Ä

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º—ã —É–¥–∞–ª—è–µ–º –≤–µ—Å—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã, –Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã.

---

## –ó–∞–¥–∞—á–∞ 1.1: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π –≤ ThermodynamicAgent

**–§–∞–π–ª**: `src/thermo_agents/thermodynamic_agent.py` (—Å—Ç—Ä–æ–∫–∏ 26-78)

### –ü—Ä–æ–±–ª–µ–º–∞
–í `thermodynamic_agent.py` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ v2.0:
- `ExtractedParameters` (—É—Å—Ç–∞—Ä–µ–≤—à–∞—è, –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `ExtractedReactionParameters`)
- `IndividualSearchRequest` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –ø–æ–∏—Å–∫ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ CompoundSearcher)
- `IndividualCompoundResult` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ `CompoundSearchResult`)
- `AggregatedResults` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ `AggregatedReactionData`)

### –†–µ—à–µ–Ω–∏–µ
‚ùå **–£–î–ê–õ–ò–¢–¨** –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏ –∏–∑ `thermodynamic_agent.py`

### –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π**:
   ```bash
   grep -r "ExtractedParameters\|IndividualSearchRequest\|IndividualCompoundResult\|AggregatedResults" src/ tests/
   ```
2. **–£–¥–∞–ª–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 26-78)
3. **–£–¥–∞–ª–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã** (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã** –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`uv run pytest tests/ -v`)
- [ ] –ù–µ—Ç –∏–º–ø–æ—Ä—Ç–æ–≤ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- [ ] –§–∞–π–ª `thermodynamic_agent.py` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥

---

## –ó–∞–¥–∞—á–∞ 1.2: –ê—Ä—Ö–∏–≤–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ SQL_GENERATION_PROMPT

**–§–∞–π–ª**: `src/thermo_agents/prompts.py` (—Å—Ç—Ä–æ–∫–∏ 19-71)

### –ü—Ä–æ–±–ª–µ–º–∞
–í `prompts.py` —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç `SQL_GENERATION_PROMPT` (841 —Å—Ç—Ä–æ–∫–∞), –∫–æ—Ç–æ—Ä—ã–π –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ SQL –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ —á–µ—Ä–µ–∑ `SQLBuilder`.

### –†–µ—à–µ–Ω–∏–µ
‚ùå **–£–î–ê–õ–ò–¢–¨** `SQL_GENERATION_PROMPT` –∏–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ @deprecated

### –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞**:
   ```bash
   grep -r "SQL_GENERATION_PROMPT" src/ tests/
   ```
2. **–°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**:
   ```bash
   mkdir -p docs/archive/prompts
   ```
3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç –≤ –∞—Ä—Ö–∏–≤** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏):
   ```bash
   cp src/thermo_agents/prompts.py docs/archive/prompts/legacy_prompts.py
   ```
4. **–£–¥–∞–ª–∏—Ç—å `SQL_GENERATION_PROMPT` –∏–∑ `prompts.py`**
5. **–û–±–Ω–æ–≤–∏—Ç—å `prompts.py`** - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `THERMODYNAMIC_EXTRACTION_PROMPT`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- [ ] –§–∞–π–ª `prompts.py` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –ø—Ä–æ–º–ø—Ç
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ê—Ä—Ö–∏–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

---

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# –°–æ–∑–¥–∞—Ç—å backup –≤–µ—Ç–∫—É
git checkout -b refactor/stage-1-safe-deletion

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è baseline
uv run pytest tests/ -v --tb=short > tests_baseline.log
```

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á
1. **–ó–∞–¥–∞—á–∞ 1.1**: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π
2. **–ó–∞–¥–∞—á–∞ 1.2**: –ê—Ä—Ö–∏–≤–∞—Ü–∏—è SQL_GENERATION_PROMPT

### –®–∞–≥ 3: –í–∞–ª–∏–¥–∞—Ü–∏—è
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
uv run pytest tests/ -v

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ mypy)
uv run mypy src/thermo_agents/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∏–ª—å –∫–æ–¥–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ ruff)
uv run ruff check src/thermo_agents/
```

### –®–∞–≥ 4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
```bash
# –î–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "refactor: Remove unused models and deprecated prompts

- Remove unused Pydantic models from ThermodynamicAgent
- Archive deprecated SQL_GENERATION_PROMPT
- Clean up imports and documentation

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>"

# –°–æ–∑–¥–∞—Ç—å PR –¥–ª—è code review
gh pr create --title "refactor: Remove unused code (Stage 1)" --body "$(cat <<'EOF'
## Summary
- Remove unused Pydantic models from ThermodynamicAgent
- Archive deprecated SQL_GENERATION_PROMPT
- Clean up imports and documentation

## Test plan
- [x] All existing tests pass
- [x] No imports of deleted models
- [x] System functionality preserved

## Changes
- Removed: ExtractedParameters, IndividualSearchRequest, IndividualCompoundResult, AggregatedResults
- Archived: SQL_GENERATION_PROMPT (moved to docs/archive/prompts/)
- Updated: imports and documentation

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
EOF
)"
```

---

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –Ω–∞ ~100 —Å—Ç—Ä–æ–∫
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è `thermodynamic_agent.py`
- ‚úÖ –ß–∏—Å—Ç–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- ‚úÖ –Ø–≤–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–º–ø–æ—Ä—Ç–æ–≤

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [ ] –í—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ `thermodynamic_agent.py`
- [ ] `SQL_GENERATION_PROMPT` —É–¥–∞–ª—ë–Ω –∏–ª–∏ –∑–∞–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ù–µ—Ç warning'–æ–≤ –æ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–∞—Ö
- [ ] Code review –∑–∞–≤–µ—Ä—à—ë–Ω –∏ PR –ø—Ä–∏–Ω—è—Ç
- [ ] –í–µ—Ç–∫–∞ —Å–ª–∏—Ç–∞ —Å –æ—Å–Ω–æ–≤–Ω–æ–π

---

## –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≠—Ç–∞–ø–∞ 1 –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ **–≠—Ç–∞–ø—É 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω–∏—Ç `OperationLogger` –∏ `SessionLogger` –≤ –µ–¥–∏–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.