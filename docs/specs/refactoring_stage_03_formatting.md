# –≠—Ç–∞–ø 3: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤—ã–≤–æ–¥–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-02  
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —ç—Ç–∞–ø–∞ 2  

---

## –¶–µ–ª—å —ç—Ç–∞–ø–∞

–°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π –∫—Ä–∞—Å–∏–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—Å—á–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –≤–∫–ª—é—á–∞—é—â–∏–π:

- –ü–æ–ª–Ω—É—é —Ç–∞–±–ª–∏—Ü—É —Ä–∞—Å—á–µ—Ç–æ–≤ ŒîH, ŒîS, ŒîG, K –¥–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ 298-2500K
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–±–æ –≤—Å–µ—Ö –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å—è—Ö –∏–∑ –ë–î
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Ä–∞—Å—á–µ—Ç–µ (—É—Ä–∞–≤–Ω–µ–Ω–∏–µ, –º–µ—Ç–æ–¥, –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö)
- –ü–æ–Ω—è—Ç–Ω—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## –ú–æ—Ç–∏–≤–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:**

–¢–µ–∫—É—â–∏–π –≤—ã–≤–æ–¥ (–∏–∑ `--test` —Ä–µ–∂–∏–º–∞) —Ö–æ—Ä–æ—à–∏–π, –Ω–æ:

1. **–ù–µ–ø–æ–ª–Ω–æ—Ç–∞:** –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ 2 —Ç–æ—á–∫–∏ (2200K, 2300K), –∞ –Ω–µ –≤–µ—Å—å –¥–∏–∞–ø–∞–∑–æ–Ω
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ë–î:** –ù–µ –≤–∏–¥–Ω–æ, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –∑–∞–ø–∏—Å–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å
3. **–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–º–µ–Ω–∞ —Ñ–∞–∑—ã
4. **–§–æ—Ä–º–∞—Ç –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç calc_example.ipynb:** –í –Ω–æ—É—Ç–±—É–∫–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ + –≥—Ä–∞—Ñ–∏–∫–∏

**–ñ–µ–ª–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç:

1. ‚úÖ –ü–æ–ª–Ω—É—é —Ç–∞–±–ª–∏—Ü—É 298-2500K (23 —Ç–æ—á–∫–∏ —Å —à–∞–≥–æ–º 100K)
2. ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –≤–µ—â–µ—Å—Ç–≤–µ: —Ñ–∞–∑–∞, –∏—Å—Ç–æ—á–Ω–∏–∫, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏
3. ‚úÖ –û—Ç–º–µ—Ç–∫–∏ –æ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ
4. ‚úÖ –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (—Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö T)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
src/thermo_agents/formatting/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ unified_reaction_formatter.py    # ‚Üê –ù–û–í–´–ô: –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä —Ä–µ–∞–∫—Ü–∏–π
‚îú‚îÄ‚îÄ compound_info_formatter.py       # ‚Üê –ù–û–í–´–ô: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤–µ—â–µ—Å—Ç–≤–∞—Ö
‚îú‚îÄ‚îÄ table_formatter.py               # ‚Üê –ù–û–í–´–ô: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
‚îî‚îÄ‚îÄ interpretation_formatter.py      # ‚Üê –ù–û–í–´–ô: –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

### –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã (—É–¥–∞–ª–∏—Ç—å):

```
src/thermo_agents/formatting/
‚îú‚îÄ‚îÄ compound_data_formatter.py       # ‚Üê –£–¥–∞–ª–∏—Ç—å (–∑–∞–º–µ–Ω–µ–Ω unified_reaction_formatter)
‚îî‚îÄ‚îÄ reaction_calculation_formatter.py # ‚Üê –£–¥–∞–ª–∏—Ç—å (–∑–∞–º–µ–Ω–µ–Ω unified_reaction_formatter)
```

---

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π

### 1. `unified_reaction_formatter.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –≤—Å–µ —á–∞—Å—Ç–∏ –≤—ã–≤–æ–¥–∞

**–ö–ª—é—á–µ–≤–æ–π –º–µ—Ç–æ–¥:**

```python
class UnifiedReactionFormatter:
    """
    –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∞–∫—Ü–∏–∏.
    """
    
    def __init__(
        self,
        compound_info_formatter: CompoundInfoFormatter,
        table_formatter: TableFormatter,
        interpretation_formatter: InterpretationFormatter
    ):
        self.compound_info = compound_info_formatter
        self.table_formatter = table_formatter
        self.interpretation = interpretation_formatter
    
    def format_reaction_result(
        self,
        params: ExtractedReactionParameters,
        df_result: pd.DataFrame,
        compounds_metadata: Dict[str, Any]  # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–± –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å—è—Ö
    ) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∞–∫—Ü–∏–∏.
        
        –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã–≤–æ–¥–∞:
        
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        ‚öóÔ∏è –¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Ä–µ–∞–∫—Ü–∏–∏
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        –£—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏: {balanced_equation}
        
        –ú–µ—Ç–æ–¥ —Ä–∞—Å—á—ë—Ç–∞:
        [–æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –®–æ–º–µ–π—Ç–∞]
        
        –î–∞–Ω–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤:
        {compound_info –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞}
        
        –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞:
        {—Ç–∞–±–ª–∏—Ü–∞ —Å ŒîH, ŒîS, ŒîG, ln(K), K}
        
        –®–∞–≥ –ø–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ: 100 K
        –†–∞—Å—á—ë—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É—Ä–∞–≤–Ω–µ–Ω–∏–π –®–æ–º–µ–π—Ç–∞
        
        –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
        {–∞–Ω–∞–ª–∏–∑ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö T}
        
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        Args:
            params: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ LLM
            df_result: DataFrame —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (T, ŒîH, ŒîS, ŒîG, ln(K), K)
            compounds_metadata: {
                formula: {
                    'records_used': [—Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π],
                    'melting_point': float,
                    'boiling_point': float,
                    'phase_transitions': [—Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤]
                }
            }
        
        Returns:
            –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        """
```

---

### 2. `compound_info_formatter.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–∂–¥–æ–º –≤–µ—â–µ—Å—Ç–≤–µ

**–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**

```
Al‚ÇÇO‚ÇÉ(g) ‚Äî Aluminum oxide
  –§–∞–∑–∞: g | T_–ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏: 800-6000 K
  H‚ÇÇ‚Çâ‚Çà: 0.000 –∫–î–∂/–º–æ–ª—å | S‚ÇÇ‚Çâ‚Çà: 0.000 –î–∂/(–º–æ–ª—å¬∑K)
  Cp –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã: [f‚ÇÅ, f‚ÇÇ, f‚ÇÉ, f‚ÇÑ, f‚ÇÖ, f‚ÇÜ]
  –ò—Å—Ç–æ—á–Ω–∏–∫: Glushko 94 (ReliabilityClass: 1)
  
C ‚Äî Carbon (Graphite)
  –§–∞–∑–∞: s | T_–ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏: 1300-3900 K
  H‚ÇÇ‚Çâ‚Çà: 0.000 –∫–î–∂/–º–æ–ª—å | S‚ÇÇ‚Çâ‚Çà: 0.000 –î–∂/(–º–æ–ª—å¬∑K)
  Cp –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã: [f‚ÇÅ, f‚ÇÇ, f‚ÇÉ, f‚ÇÑ, f‚ÇÖ, f‚ÇÜ]
  –ò—Å—Ç–æ—á–Ω–∏–∫: Knacke 91 (ReliabilityClass: 1)
  –§–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã: –Ω–µ—Ç
  
Al ‚Äî Aluminum
  –§–∞–∑–∞: l | T_–ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏: 934-6000 K
  H‚ÇÇ‚Çâ‚Çà: 10.711 –∫–î–∂/–º–æ–ª—å | S‚ÇÇ‚Çâ‚Çà: 11.477 –î–∂/(–º–æ–ª—å¬∑K)
  Cp –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã: [f‚ÇÅ, f‚ÇÇ, f‚ÇÉ, f‚ÇÑ, f‚ÇÖ, f‚ÇÜ]
  –ò—Å—Ç–æ—á–Ω–∏–∫: Barin 93 (ReliabilityClass: 1)
  –§–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:
    ‚Ä¢ –ü–ª–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ 934 K (s ‚Üí l)
  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞–ø–∏—Å–µ–π: 2 (s: 1, l: 1)
```

**–ö–ª—é—á–µ–≤–æ–π –º–µ—Ç–æ–¥:**

```python
class CompoundInfoFormatter:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—â–µ—Å—Ç–≤–∞—Ö.
    """
    
    @staticmethod
    def format_compound(
        formula: str,
        records_used: List[pd.Series],
        melting_point: Optional[float],
        boiling_point: Optional[float],
        compound_names: List[str]
    ) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–¥–Ω–æ–º –≤–µ—â–µ—Å—Ç–≤–µ.
        
        –í–∫–ª—é—á–∞–µ—Ç:
        - –§–æ—Ä–º—É–ª—É —Å –ø–æ–¥—Å—Ç—Ä–æ—á–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Al‚ÇÇO‚ÇÉ)
        - –ù–∞–∑–≤–∞–Ω–∏–µ (FirstName/SecondName –∏–∑ –ë–î)
        - –§–∞–∑—ã –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
        - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏
        - H‚ÇÇ‚Çâ‚Çà –∏ S‚ÇÇ‚Çâ‚Çà (–∏–∑ –ø–µ—Ä–≤–æ–π –∑–∞–ø–∏—Å–∏)
        - Cp –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (f‚ÇÅ-f‚ÇÜ)
        - –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (Reference) –∏ ReliabilityClass
        - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö
        - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ —Ñ–∞–∑–∞–º
        
        Args:
            formula: –•–∏–º–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞
            records_used: –°–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π (pd.Series)
            melting_point: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–ª–∞–≤–ª–µ–Ω–∏—è (K) –∏–ª–∏ None
            boiling_point: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–∏–ø–µ–Ω–∏—è (K) –∏–ª–∏ None
            compound_names: –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω –∏–∑ LLM response
        
        Returns:
            –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–µ—â–µ—Å—Ç–≤–µ
        """
    
    @staticmethod
    def _convert_to_subscript(formula: str) -> str:
        """
        –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ü–∏—Ñ—Ä—ã –≤ —Ñ–æ—Ä–º—É–ª–µ –≤ –ø–æ–¥—Å—Ç—Ä–æ—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã.
        
        –ü—Ä–∏–º–µ—Ä—ã:
            Al2O3 ‚Üí Al‚ÇÇO‚ÇÉ
            H2O ‚Üí H‚ÇÇO
            SO2 ‚Üí SO‚ÇÇ
        """
        subscript_map = str.maketrans("0123456789", "‚ÇÄ‚ÇÅ‚ÇÇ‚ÇÉ‚ÇÑ‚ÇÖ‚ÇÜ‚Çá‚Çà‚Çâ")
        return formula.translate(subscript_map)
```

---

### 3. `table_formatter.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ä–∞—Å—á–µ—Ç–æ–≤

**–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (–ø–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞):**

```
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞:
‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î≥‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î≥‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î≥‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î≥‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚îÉ T(K)   ‚îÉ ŒîH¬∞ (–∫–î–∂/–º–æ–ª—å)    ‚îÉ ŒîS¬∞ (–î–∂/(–ö¬∑–º–æ–ª—å))    ‚îÉ ŒîG¬∞ (–∫–î–∂/–º–æ–ª—å)    ‚îÉ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                         ‚îÉ
‚î°‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ïá‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ïá‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ïá‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ïá‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î©
‚îÇ   298  ‚îÇ        45.23      ‚îÇ        112.45        ‚îÇ       11.74       ‚îÇ –≠–Ω–¥–µ—Ä–≥–æ–Ω–∏—á–µ—Å–∫–∞—è (‚áì –Ω–µ—Å–ø.)           ‚îÇ
‚îÇ   400  ‚îÇ        44.89      ‚îÇ        113.21        ‚îÇ       -0.39       ‚îÇ                                     ‚îÇ
‚îÇ   500  ‚îÇ [—Ñ–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥] ‚îÇ                      ‚îÇ                   ‚îÇ ‚ö† Al: –ø–ª–∞–≤–ª–µ–Ω–∏–µ (s ‚Üí l) –ø—Ä–∏ 934K   ‚îÇ
‚îÇ   600  ‚îÇ        43.12      ‚îÇ        114.56        ‚îÇ      -25.62       ‚îÇ                                     ‚îÇ
‚îÇ   ...  ‚îÇ        ...        ‚îÇ         ...          ‚îÇ       ...         ‚îÇ ...                                 ‚îÇ
‚îÇ  2500  ‚îÇ       -15.67      ‚îÇ        120.34        ‚îÇ     -316.52       ‚îÇ –≠–∫–∑–µ—Ä–≥–æ–Ω–∏—á–µ—Å–∫–∞—è (‚áë —Å–ø–æ–Ω—Ç–∞–Ω–Ω–∞—è)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

23 —Ç–æ—á–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã (—à–∞–≥: 100 K)
```

**–ö–ª—é—á–µ–≤–æ–π –º–µ—Ç–æ–¥:**

```python
class TableFormatter:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏.
    """
    
    @staticmethod
    def format_reaction_table(
        df_result: pd.DataFrame,
        phase_transitions: Dict[str, List[Tuple[float, str, str]]]  # {formula: [(T, phase_from, phase_to)]}
    ) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—Å—á–µ—Ç–∞.
        
        –ö–æ–ª–æ–Ω–∫–∏:
        - T (K): –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
        - ŒîH¬∞ (–∫–î–∂/–º–æ–ª—å): –≠–Ω—Ç–∞–ª—å–ø–∏—è —Ä–µ–∞–∫—Ü–∏–∏
        - ŒîS¬∞ (–î–∂/(–ö¬∑–º–æ–ª—å)): –≠–Ω—Ç—Ä–æ–ø–∏—è —Ä–µ–∞–∫—Ü–∏–∏
        - ŒîG¬∞ (–∫–î–∂/–º–æ–ª—å): –≠–Ω–µ—Ä–≥–∏—è –ì–∏–±–±—Å–∞
        - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è (—Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å, —Ñ–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã)
        
        –§–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:
        - –û—Ç–º–µ—á–∞—é—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–∞—Ö, –≥–¥–µ T –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω –ø–µ—Ä–µ—Ö–æ–¥–∞
        - –§–æ—Ä–º–∞—Ç: "‚ö† {formula}: {transition_type} ({phase_from} ‚Üí {phase_to}) –ø—Ä–∏ {T}K"
        
        –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è ŒîG:
        - ŒîG < 0: "–≠–∫–∑–µ—Ä–≥–æ–Ω–∏—á–µ—Å–∫–∞—è (‚áë —Å–ø–æ–Ω—Ç–∞–Ω–Ω–∞—è)"
        - ŒîG > 0: "–≠–Ω–¥–µ—Ä–≥–æ–Ω–∏—á–µ—Å–∫–∞—è (‚áì –Ω–µ—Å–ø.)"
        - ŒîG ‚âà 0 (|ŒîG| < 1): "–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ"
        
        Args:
            df_result: DataFrame —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ [T (K), ŒîH (–î–∂/–º–æ–ª—å), ŒîS (–î–∂/(–º–æ–ª—å¬∑K)), ŒîG (–î–∂/–º–æ–ª—å), ln(K), K]
            phase_transitions: –°–ª–æ–≤–∞—Ä—å —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞
        
        Returns:
            –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ tabulate –∏–ª–∏ rich)
        """
    
    @staticmethod
    def _determine_spontaneity(delta_g: float) -> str:
        """
        –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –ø–æ ŒîG.
        
        Returns:
            "–≠–∫–∑–µ—Ä–≥–æ–Ω–∏—á–µ—Å–∫–∞—è (‚áë —Å–ø–æ–Ω—Ç–∞–Ω–Ω–∞—è)" | "–≠–Ω–¥–µ—Ä–≥–æ–Ω–∏—á–µ—Å–∫–∞—è (‚áì –Ω–µ—Å–ø.)" | "–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ"
        """
        if abs(delta_g) < 1000:  # |ŒîG| < 1 –∫–î–∂/–º–æ–ª—å
            return "–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ"
        elif delta_g < 0:
            return "–≠–∫–∑–µ—Ä–≥–æ–Ω–∏—á–µ—Å–∫–∞—è (‚áë —Å–ø–æ–Ω—Ç–∞–Ω–Ω–∞—è)"
        else:
            return "–≠–Ω–¥–µ—Ä–≥–æ–Ω–∏—á–µ—Å–∫–∞—è (‚áì –Ω–µ—Å–ø.)"
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ç–∞–±–ª–∏—Ü:**

–ò—Å–ø–æ–ª—å–∑—É–µ–º `rich` –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
from rich.console import Console
from rich.table import Table

def create_table() -> Table:
    table = Table(
        title="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞",
        show_header=True,
        header_style="bold cyan",
        border_style="blue"
    )
    table.add_column("T(K)", justify="right", style="white")
    table.add_column("ŒîH¬∞ (–∫–î–∂/–º–æ–ª—å)", justify="right", style="yellow")
    table.add_column("ŒîS¬∞ (–î–∂/(–ö¬∑–º–æ–ª—å))", justify="right", style="yellow")
    table.add_column("ŒîG¬∞ (–∫–î–∂/–º–æ–ª—å)", justify="right", style="green")
    table.add_column("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π", style="dim")
    return table
```

---

### 4. `interpretation_formatter.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—Å—á–µ—Ç–∞

**–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–ê–Ω–∞–ª–∏–∑ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç–∏:

  üìà –ü—Ä–∏ –Ω–∏–∑–∫–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Ö (298-600 K):
     ŒîG > 0 ‚Üí –†–µ–∞–∫—Ü–∏—è –Ω–µ—Å–∞–º–æ–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è (—Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –Ω–µ–≤—ã–≥–æ–¥–Ω–∞)
     –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–µ—à–Ω–µ–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –ø—Ä–æ—Ç–µ–∫–∞–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏

  üìâ –ü—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Ö (800-2500 K):
     ŒîG < 0 ‚Üí –†–µ–∞–∫—Ü–∏—è —Å–∞–º–æ–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è (—Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã–≥–æ–¥–Ω–∞)
     –†–µ–∞–∫—Ü–∏—è –ø—Ä–æ—Ç–µ–∫–∞–µ—Ç —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ –≤ –ø—Ä—è–º–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏

  üéØ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏–Ω–≤–µ—Ä—Å–∏–∏: ~700 K
     –ü—Ä–∏ T > 700 K —Ä–µ–∞–∫—Ü–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã–≥–æ–¥–Ω–æ–π

–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è:

  –ü—Ä–∏ 298 K:  K = 1.23e-10 (—Ä–µ–∞–∫—Ü–∏—è —Å–¥–≤–∏–Ω—É—Ç–∞ –≤–ª–µ–≤–æ)
  –ü—Ä–∏ 1000 K: K = 5.67e+02 (—Ä–µ–∞–∫—Ü–∏—è —Å–¥–≤–∏–Ω—É—Ç–∞ –≤–ø—Ä–∞–≤–æ)
  –ü—Ä–∏ 2500 K: K = 8.91e+15 (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª–Ω–æ–µ –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ)

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥:

  ‚úÖ –î–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤—ã—à–µ 700 K
  ‚ö†Ô∏è –ü—Ä–∏ –Ω–∏–∑–∫–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º –∫–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

**–ö–ª—é—á–µ–≤–æ–π –º–µ—Ç–æ–¥:**

```python
class InterpretationFormatter:
    """
    –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞.
    """
    
    @staticmethod
    def format_interpretation(
        df_result: pd.DataFrame,
        params: ExtractedReactionParameters
    ) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
        
        –í–∫–ª—é—á–∞–µ—Ç:
        1. –ê–Ω–∞–ª–∏–∑ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Ö
        2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏–Ω–≤–µ—Ä—Å–∏–∏ (–≥–¥–µ ŒîG –º–µ–Ω—è–µ—Ç –∑–Ω–∞–∫)
        3. –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è K
        4. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
        
        Args:
            df_result: DataFrame —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
            params: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–∞–∫—Ü–∏–∏ –∏–∑ LLM
        
        Returns:
            –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è
        """
    
    @staticmethod
    def _find_inversion_temperature(df_result: pd.DataFrame) -> Optional[float]:
        """
        –ù–∞—Ö–æ–¥–∏—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π ŒîG –º–µ–Ω—è–µ—Ç –∑–Ω–∞–∫.
        
        Returns:
            –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏–Ω–≤–µ—Ä—Å–∏–∏ (K) –∏–ª–∏ None, –µ—Å–ª–∏ ŒîG –Ω–µ –º–µ–Ω—è–µ—Ç –∑–Ω–∞–∫
        """
        # –ù–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤—É—é —Ç–æ—á–∫—É, –≥–¥–µ ŒîG –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ 0
        for i in range(len(df_result) - 1):
            dG_current = df_result.iloc[i]['ŒîG (–î–∂/–º–æ–ª—å)']
            dG_next = df_result.iloc[i + 1]['ŒîG (–î–∂/–º–æ–ª—å)']
            
            if dG_current * dG_next < 0:  # –†–∞–∑–Ω—ã–µ –∑–Ω–∞–∫–∏
                # –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
                T_current = df_result.iloc[i]['T (K)']
                T_next = df_result.iloc[i + 1]['T (K)']
                
                T_inversion = T_current - dG_current * (T_next - T_current) / (dG_next - dG_current)
                return round(T_inversion, 0)
        
        return None
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `orchestrator.py`

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `process_query()`:

```python
async def process_query(self, user_query: str) -> str:
    """
    –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–æ–ª–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤—ã–≤–æ–¥–∞.
    """
    try:
        # 1-3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
        params = await self.thermodynamic_agent.extract_parameters(user_query)
        
        # 4. –†–∞—Å—á–µ—Ç —Ä–µ–∞–∫—Ü–∏–∏
        if params.query_type == "reaction_calculation":
            temperature_range = [298, 2500, 100]
            
            # –†–∞—Å—á–µ—Ç —á–µ—Ä–µ–∑ ReactionEngine
            df_result, compounds_metadata = self.reaction_engine.calculate_reaction_with_metadata(
                params, temperature_range
            )
            
            # 5. –ù–û–í–û–ï: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ UnifiedReactionFormatter
            formatted_result = self.unified_formatter.format_reaction_result(
                params, df_result, compounds_metadata
            )
            
            # 6. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            if self.session_logger:
                self.session_logger.log_calculation_result(df_result)
            
            return formatted_result
        
        else:
            return "‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ compound_data –∑–∞–ø—Ä–æ—Å–æ–≤ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ"
    
    except Exception as e:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–æ–≤ –≤ `__init__()`:

```python
def __init__(self, config: ThermoOrchestratorConfig, session_logger: Optional[SessionLogger] = None):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    
    # –§–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã
    self.compound_info_formatter = CompoundInfoFormatter()
    self.table_formatter = TableFormatter()
    self.interpretation_formatter = InterpretationFormatter()
    
    self.unified_formatter = UnifiedReactionFormatter(
        self.compound_info_formatter,
        self.table_formatter,
        self.interpretation_formatter
    )
```

---

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `ReactionEngine`

–î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –Ω—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å `ReactionEngine`:

```python
def calculate_reaction_with_metadata(
    self,
    params: ExtractedReactionParameters,
    temperature_range: List[float]
) -> Tuple[pd.DataFrame, Dict[str, Any]]:
    """
    –†–∞—Å—á–µ—Ç —Ä–µ–∞–∫—Ü–∏–∏ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ–± –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å—è—Ö.
    
    Returns:
        (df_result, compounds_metadata)
        
        compounds_metadata = {
            formula: {
                'records_used': [—Å–ø–∏—Å–æ–∫ pd.Series],
                'melting_point': float,
                'boiling_point': float,
                'phase_transitions': [(T, phase_from, phase_to), ...]
            }
        }
    """
    # –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –∏–∑ —ç—Ç–∞–ø–∞ 2 + —Å–±–æ—Ä –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
```

---

## –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã

```powershell
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã
New-Item -ItemType File -Path src/thermo_agents/formatting/unified_reaction_formatter.py
New-Item -ItemType File -Path src/thermo_agents/formatting/compound_info_formatter.py
New-Item -ItemType File -Path src/thermo_agents/formatting/table_formatter.py
New-Item -ItemType File -Path src/thermo_agents/formatting/interpretation_formatter.py
```

### –®–∞–≥ 2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã

1. –ù–∞—á–∞—Ç—å —Å `compound_info_formatter.py` (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `table_formatter.py` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `rich`
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `interpretation_formatter.py`
4. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ `unified_reaction_formatter.py`

### –®–∞–≥ 3: –†–∞—Å—à–∏—Ä–∏—Ç—å `ReactionEngine`

–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `calculate_reaction_with_metadata()` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å `orchestrator.py`

1. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–æ–≤
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –≤ `__init__()`
3. –û–±–Ω–æ–≤–∏—Ç—å `process_query()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `unified_formatter`

### –®–∞–≥ 5: –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã

```powershell
Remove-Item src/thermo_agents/formatting/compound_data_formatter.py
Remove-Item src/thermo_agents/formatting/reaction_calculation_formatter.py
```

### –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```powershell
uv run main.py --test

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# - –ü–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ 298-2500K (23 —Å—Ç—Ä–æ–∫–∏)
# - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –≤–µ—â–µ—Å—Ç–≤–µ
# - –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
# - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Unicode —Å–∏–º–≤–æ–ª–∞–º–∏
```

### –®–∞–≥ 7: –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

```powershell
git checkout -b refactor/stage-03-formatting
git add src/thermo_agents/formatting/
git add src/thermo_agents/orchestrator.py
git add src/thermo_agents/core_logic/reaction_engine.py
git commit -m "feat(stage-03): –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º"
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:

1. –°–æ–∑–¥–∞–Ω—ã –≤—Å–µ 4 —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞ –≤ `formatting/`
2. `ReactionEngine` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–± –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å—è—Ö
3. `orchestrator.py` –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å `UnifiedReactionFormatter`
4. `uv run main.py --test` –≤—ã–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—É—é —Ç–∞–±–ª–∏—Ü—É 298-2500K (23 —Ç–æ—á–∫–∏)
5. –í—ã–≤–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç:
   - –£—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏
   - –û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ —Ä–∞—Å—á–µ—Ç–∞
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –≤–µ—â–µ—Å—Ç–≤–µ (—Ñ–∞–∑–∞, T_–ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏, H‚ÇÇ‚Çâ‚Çà, S‚ÇÇ‚Çâ‚Çà, Cp –∫–æ—ç—Ñ—Ñ.)
   - –ü–æ–ª–Ω—É—é —Ç–∞–±–ª–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é (–∞–Ω–∞–ª–∏–∑ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç–∏, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏–Ω–≤–µ—Ä—Å–∏–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
6. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Unicode —Å–∏–º–≤–æ–ª—ã (‚öóÔ∏è, ‚úÖ, ‚ö†Ô∏è, ‚ïê, ‚îÉ, etc.)
7. –°—Ç–∞—Ä—ã–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã —É–¥–∞–ª–µ–Ω—ã

### ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:

1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–≤–µ—Ç–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —á–µ—Ä–µ–∑ `rich`
2. –î–æ–±–∞–≤–ª–µ–Ω—ã –≥—Ä–∞—Ñ–∏–∫–∏ (–∫–∞–∫ –≤ calc_example.ipynb) –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ —Ñ–∞–π–ª
3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ç–∞–±–ª–∏—Ü—ã –≤ CSV/Excel

---

## –†–∏—Å–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### ‚ö†Ô∏è –†–∏—Å–∫–∏:

1. **–î–ª–∏–Ω–Ω—ã–π –≤—ã–≤–æ–¥:** –¢–∞–±–ª–∏—Ü–∞ –∏–∑ 23 —Å—Ç—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –æ–±—ä–µ–º–Ω–æ–π –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å `rich` –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –≤—ã–≤–æ–¥
3. **Unicode –ø—Ä–æ–±–ª–µ–º—ã:** Windows Terminal –º–æ–∂–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–∏–º–≤–æ–ª—ã

### üõ°Ô∏è –ú–∏—Ç–∏–≥–∞—Ü–∏—è:

1. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫—Ä–∞—Ç–∫–æ—Å—Ç—å:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `--brief` –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–µ–∫
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
3. **Fallback –¥–ª—è Unicode:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Unicode –≤ –∫–æ–Ω—Å–æ–ª–∏ (—É–∂–µ –µ—Å—Ç—å –≤ orchestrator.py)

### ‚è™ –ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞:

```powershell
git reset --hard backup-before-stage-03
git checkout dev_two
```

---

## –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø

**–≠—Ç–∞–ø 4:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ–≥–¥–∞ 298-2500K:** –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—Å–µ–≥–¥–∞ –≤—ã–≤–æ–¥–∏–º –ø–æ–ª–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
2. **–®–∞–≥ 100K:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–≥ (23 —Ç–æ—á–∫–∏: 298, 400, 500, ..., 2500)
3. **Unicode —Å–∏–º–≤–æ–ª—ã:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∏–ª—å (‚öóÔ∏è, ‚úÖ, ‚ö†Ô∏è, ‚ïê, etc.)
4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ª–æ–≥–∞–º–∏:** –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ session logs

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–∞—Ç–∞:** 2025-11-02  
**–í–µ—Ä—Å–∏—è:** 1.0
