# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ-–∑–∞–¥–∞–Ω–∏–µ-–∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞-—Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö-—Å–≤–æ–π—Å—Ç–≤-–≤–µ—â–µ—Å—Ç–≤)
  - [–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)
  - [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
    - [–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞](#—Ü–µ–ª—å-–ø—Ä–æ–µ–∫—Ç–∞)
    - [–ö–æ–Ω—Ç–µ–∫—Å—Ç](#–∫–æ–Ω—Ç–µ–∫—Å—Ç)
    - [Scope –ø—Ä–æ–µ–∫—Ç–∞](#scope-–ø—Ä–æ–µ–∫—Ç–∞)
  - [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ-—Ä–µ—à–µ–Ω–∏–µ)
    - [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π)
      - [ThermoSystem Integration](#thermosystem-integration)
      - [Telegram Bot Architecture Integration](#telegram-bot-architecture-integration)
    - [–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Telegram Bot](#–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-telegram-bot)
  - [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É)
    - [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
      - [FR-1: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤](#fr-1-—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ-—Ç–∏–ø–æ–≤-–∑–∞–ø—Ä–æ—Å–æ–≤)
      - [FR-2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–µ—â–µ—Å—Ç–≤–∞](#fr-2-–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤-–≤–µ—â–µ—Å—Ç–≤–∞)
      - [FR-3: –†–∞—Å—á–µ—Ç —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤](#fr-3-—Ä–∞—Å—á–µ—Ç-—Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö-—Å–≤–æ–π—Å—Ç–≤)
      - [FR-4: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤](#fr-4-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
      - [FR-5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#fr-5-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
    - [–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
      - [NFR-1: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#nfr-1-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
      - [NFR-2: –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å](#nfr-2-–Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å)
      - [NFR-3: –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å](#nfr-3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
  - [–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è](#–¥–µ—Ç–∞–ª—å–Ω–∞—è-–∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è)
    - [–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ ExtractedReactionParameters](#—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–º–æ–¥–µ–ª–∏-extractedreactionparameters)
    - [–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è ThermoOrchestrator](#–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è-thermoorchestrator)
    - [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Telegram Bot –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-telegram-bot-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)
    - [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞–º–∏](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞–º–∏)
  - [–ü–æ—Ç–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](#–ø–æ—Ç–æ–∫–∏-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
    - [–û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ compound\_data](#–æ—Å–Ω–æ–≤–Ω–æ–π-–ø–æ—Ç–æ–∫-–æ–±—Ä–∞–±–æ—Ç–∫–∏-compound_data)
    - [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
  - [–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞)
    - [–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã](#–∫–ª—é—á–µ–≤—ã–µ-–º–µ—Ç–æ–¥—ã-–∏-–∫–ª–∞—Å—Å—ã)
      - [1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ ThermodynamicAgent](#1-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-thermodynamicagent)
      - [2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CompoundDataLoader](#2-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-compounddataloader)
      - [3. Telegram Bot ThermoIntegration](#3-telegram-bot-thermointegration)
    - [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤](#–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤-–∏-–æ—Ç–≤–µ—Ç–æ–≤)
      - [–ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤–∞](#–ø—Ä–∏–º–µ—Ä-1-–±–∞–∑–æ–≤—ã–π-–∑–∞–ø—Ä–æ—Å-—Å–≤–æ–π—Å—Ç–≤-–≤–µ—â–µ—Å—Ç–≤–∞)
      - [–ü—Ä–∏–º–µ—Ä 2: –ó–∞–ø—Ä–æ—Å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–∞–∑—ã](#–ø—Ä–∏–º–µ—Ä-2-–∑–∞–ø—Ä–æ—Å-—Å-—É–∫–∞–∑–∞–Ω–∏–µ–º-—Ñ–∞–∑—ã)
      - [–ü—Ä–∏–º–µ—Ä 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏](#–ø—Ä–∏–º–µ—Ä-3-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–∫–∏)
  - [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
    - [–ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã](#–º–æ–¥—É–ª—å–Ω—ã–µ-—Ç–µ—Å—Ç—ã)
      - [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ExtractedReactionParameters](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-extractedreactionparameters)
      - [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ThermoOrchestrator](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-thermoorchestrator)
    - [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ-—Ç–µ—Å—Ç—ã)
      - [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø–æ–ª–Ω–æ–π-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
    - [–¢–µ—Å—Ç—ã Telegram Bot](#—Ç–µ—Å—Ç—ã-telegram-bot)
      - [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MessageHandler](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-messagehandler)
  - [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–∏-–≤–∞–ª–∏–¥–∞—Ü–∏—è)
    - [–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è](#–ø—Ä–æ—Ü–µ—Å—Å-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
      - [1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
      - [2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞](#2-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)
      - [3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ development](#3-–≤–∞–ª–∏–¥–∞—Ü–∏—è-–≤-development)
    - [–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#–≤–∞–ª–∏–¥–∞—Ü–∏—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
      - [–¢–µ—Å—Ç—ã –Ω–∞–≥—Ä—É–∑–∫–∏](#—Ç–µ—Å—Ç—ã-–Ω–∞–≥—Ä—É–∑–∫–∏)
  - [–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏](#–∫—Ä–∏—Ç–µ—Ä–∏–∏-–ø—Ä–∏–µ–º–∫–∏)
    - [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-–∫—Ä–∏—Ç–µ—Ä–∏–∏)
    - [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–∫—Ä–∏—Ç–µ—Ä–∏–∏)
    - [–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞](#–∫—Ä–∏—Ç–µ—Ä–∏–∏-–∫–∞—á–µ—Å—Ç–≤–∞)
    - [–í–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã](#–≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ-—Ç–µ—Å—Ç—ã)
      - [–ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª](#–±–∞–∑–æ–≤—ã–π-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
      - [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-1)
    - [–§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è](#—Ñ–∏–Ω–∞–ª—å–Ω–∞—è-–≤–∞–ª–∏–¥–∞—Ü–∏—è)

---

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

### –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤ –≤ Telegram –±–æ—Ç–µ ThermoCalcBot. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ–ª–∂–µ–Ω –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π ThermoSystem v2.2 –∏ Telegram Bot Architecture, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ç–∞–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤ (Cp, H, S, G) –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤ –≤ –∑–∞–¥–∞–Ω–Ω—ã—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö.

### –ö–æ–Ω—Ç–µ–∫—Å—Ç

–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞—Å—á–µ—Ç—ã —Ä–µ–∞–∫—Ü–∏–π (`reaction_calculation`). –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–≤–æ–π—Å—Ç–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤ (`compound_data`) –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–û–±—Ä–∞–±–æ—Ç–∫–∞ compound_data –∑–∞–ø—Ä–æ—Å–æ–≤ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ". –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.

### Scope –ø—Ä–æ–µ–∫—Ç–∞

- –†–∞—Å—à–∏—Ä–∏—Ç—å ExtractedReactionParameters –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `query_type: "compound_data"`
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å ThermoOrchestrator –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤
- –û–±–Ω–æ–≤–∏—Ç—å Telegram Bot –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞–º–∏ –≤—ã–≤–æ–¥–∞
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

#### ThermoSystem Integration

–û—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ [ARCHITECTURE.md](../ARCHITECTURE.md), –Ω–∞–º –Ω—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `compound_data` –∑–∞–ø—Ä–æ—Å–æ–≤:

```python
# src/thermo_agents/models/extraction.py - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
class ExtractedReactionParameters(BaseModel):
    query_type: Literal["compound_data", "reaction_calculation"]

    # –î–ª—è compound_data –∑–∞–ø—Ä–æ—Å–æ–≤
    compound: Optional[CompoundInfo] = None
    temperature_range_k: Optional[Tuple[float, float]] = None
    temperature_step_k: Optional[float] = None
    include_phases: Optional[List[str]] = None

    # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –¥–ª—è reaction_calculation
    balanced_equation: Optional[str] = None
    reactants: Optional[List[CompoundInfo]] = None
    products: Optional[List[CompoundInfo]] = None
```

#### Telegram Bot Architecture Integration

–û—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ [TELEGRAM_BOT_ARCHITECTURE.md](../TELEGRAM_BOT_ARCHITECTURE.md), –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **MessageHandler** - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ compound_data –∑–∞–ø—Ä–æ—Å–æ–≤
2. **ThermoIntegration** - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
3. **ResponseFormatter** - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Telegram
4. **SmartResponseHandler** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Telegram Bot

```mermaid
graph TB
    subgraph "Enhanced Bot Processing"
        Message[User Message] --> Parser[Query Parser]
        Parser --> Type{Query Type}

        Type -->|compound_data| Compound[Compound Data Flow]
        Type -->|reaction_calculation| Reaction[Reaction Flow]

        Compound --> Extractor[Parameter Extractor]
        Extractor --> Thermo[ThermoOrchestrator]
        Thermo --> Formatter[Table Formatter]
        Formatter --> Response[Telegram Response]

        Reaction --> Existing[Existing Flow]
    end
```

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### FR-1: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞: compound_data –∏–ª–∏ reaction_calculation
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è compound_data –∑–∞–ø—Ä–æ—Å–æ–≤

#### FR-2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–µ—â–µ—Å—Ç–≤–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ö–∏–º–∏—á–µ—Å–∫–æ–π —Ñ–æ—Ä–º—É–ª—ã –≤–µ—â–µ—Å—Ç–≤–∞ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏ —à–∞–≥–∞
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ —Ñ–∞–∑ (—Ç–≤–µ—Ä–¥–∞—è, –∂–∏–¥–∫–∞—è, –≥–∞–∑–æ–æ–±—Ä–∞–∑–Ω–∞—è)

#### FR-3: –†–∞—Å—á–µ—Ç —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤
- –†–∞—Å—á–µ—Ç Cp(T), H(T), S(T), G(T) –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ ThermodynamicEngine
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

#### FR-4: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –¢–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Telegram
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode —Ö–∏–º–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### FR-5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –Ω–µ–ø–æ–ª–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### NFR-1: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: < 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ concurrency: 10+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Memory usage: < 200MB –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

#### NFR-2: –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–µ–π ThermoSystem

#### NFR-3: –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ ExtractedReactionParameters

```python
# src/thermo_agents/models/extraction.py
from typing import Optional, List, Tuple, Literal
from pydantic import BaseModel, Field, validator

class CompoundInfo(BaseModel):
    formula: str
    phase: Optional[str] = None
    stoichiometry: float = 1.0

class ExtractedReactionParameters(BaseModel):
    query_type: Literal["compound_data", "reaction_calculation"]

    # –û–±—â–∏–µ –ø–æ–ª—è
    temperature_range_k: Optional[Tuple[float, float]] = None
    temperature_step_k: Optional[float] = Field(default=50.0, ge=1.0, le=500.0)
    extraction_confidence: float = Field(ge=0.0, le=1.0)

    # –ü–æ–ª—è –¥–ª—è compound_data
    compound: Optional[CompoundInfo] = None
    include_phases: Optional[List[str]] = Field(default=None, max_items=3)
    properties: Optional[List[str]] = Field(default=["Cp", "H", "S", "G"], max_items=4)

    # –ü–æ–ª—è –¥–ª—è reaction_calculation (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
    balanced_equation: Optional[str] = None
    reactants: Optional[List[CompoundInfo]] = None
    products: Optional[List[CompoundInfo]] = None

    @validator('compound')
    def validate_compound_for_compound_data(cls, v, values):
        if values.get('query_type') == 'compound_data' and not v:
            raise ValueError('Compound is required for compound_data queries')
        return v

    @validator('temperature_range_k')
    def validate_temperature_range(cls, v):
        if v and (v[0] < 0 or v[1] < v[0] or v[1] - v[0] > 2000):
            raise ValueError('Invalid temperature range')
        return v
```

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è ThermoOrchestrator

```python
# src/thermo_agents/orchestrator.py - –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

class ThermoOrchestrator:
    async def process_query(self, query: str) -> str:
        """–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π compound_data"""
        try:
            # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            extracted_params = await self.thermodynamic_agent.extract_parameters(query)

            # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –∑–∞–ø—Ä–æ—Å–∞
            if extracted_params.query_type == "compound_data":
                return await self._process_compound_data_query(extracted_params)
            else:
                return await self._process_reaction_calculation(extracted_params)

        except Exception as e:
            return self._handle_error(e, extracted_params)

    async def _process_compound_data_query(self, params: ExtractedReactionParameters) -> str:
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤"""
        try:
            # –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            self._validate_compound_data_params(params)

            # –ü–æ–∏—Å–∫ –¥–∞–Ω–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤–∞
            compound_data = await self._load_compound_data(params.compound)

            # –†–∞—Å—á–µ—Ç —Å–≤–æ–π—Å—Ç–≤
            results = await self._calculate_compound_properties(compound_data, params)

            # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            return await self.unified_formatter.format_compound_data(results, params)

        except Exception as e:
            return self._handle_compound_data_error(e, params)

    async def _load_compound_data(self, compound: CompoundInfo) -> CompoundSearchResult:
        """–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã"""
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π CompoundDataLoader
        data_loader = CompoundDataLoader(
            db_connector=self.db_connector,
            static_data_manager=self.static_data_manager
        )

        return await data_loader.get_raw_compound_data(
            formula=compound.formula,
            phase=compound.phase
        )

    async def _calculate_compound_properties(
        self,
        compound_data: CompoundSearchResult,
        params: ExtractedReactionParameters
    ) -> Dict[str, Any]:
        """–†–∞—Å—á–µ—Ç —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤"""
        t_min, t_max = params.temperature_range_k
        step = params.temperature_step_k

        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ThermodynamicEngine
        results = []
        for temp in range(int(t_min), int(t_max) + 1, int(step)):
            properties = await self.thermodynamic_engine.calculate_properties(
                compound_data=compound_data,
                temperature=temp
            )
            results.append({
                'temperature': temp,
                'cp': properties.cp,
                'h': properties.h,
                's': properties.s,
                'g': properties.g,
                'phase': properties.phase
            })

        return {
            'compound': params.compound,
            'temperature_range': params.temperature_range_k,
            'step': params.temperature_step_k,
            'properties': params.properties,
            'results': results
        }
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Telegram Bot –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

```python
# src/thermo_agents/telegram_bot/handlers/message_handler.py

class MessageHandler:
    async def handle_message(self, message: Message, session: UserSession) -> str:
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π compound_data"""
        try:
            # –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
            processed_query = self._preprocess_query(message.text)

            # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞
            query_type = self._detect_query_type(processed_query)

            # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
            session.logger.info(f"Processing {query_type} query: {processed_query}")

            # –ü–µ—Ä–µ–¥–∞—á–∞ –≤ ThermoIntegration
            response = await self.thermo_integration.process_query(
                query=processed_query,
                session_context=session.context,
                query_type=query_type
            )

            return response

        except Exception as e:
            return await self.error_handler.handle_message_error(e, message, session)

    def _detect_query_type(self, query: str) -> str:
        """–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º"""
        compound_keywords = [
            '—Å–≤–æ–π—Å—Ç–≤–∞', '—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏', '—Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ',
            '—Ç–∞–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ', '—Å–≤–æ–π—Å—Ç–≤–∞ –≤–µ—â–µ—Å—Ç–≤–∞', '–¥–∞–Ω–Ω—ã–µ –¥–ª—è',
            '—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å'
        ]

        reaction_keywords = [
            '—Ä–µ–∞–∫—Ü–∏—è', '‚Üí', '->', '+', '—Ä–µ–∞–≥–∏—Ä—É–µ—Ç', '–ø—Ä–æ–¥—É–∫—Ç—ã',
            '—É—Ä–∞–≤–Ω–µ–Ω–∏–µ', '—Å—Ç–µ—Ö–∏–æ–º–µ—Ç—Ä–∏—è'
        ]

        query_lower = query.lower()

        if any(keyword in query_lower for keyword in compound_keywords):
            return "compound_data"
        elif any(keyword in query_lower for keyword in reaction_keywords):
            return "reaction_calculation"
        else:
            return "auto"  # –ü–æ–∑–≤–æ–ª–∏—Ç—å LLM –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞–º–∏

```python
# src/thermo_agents/formatting/unified_reaction_formatter.py - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

class UnifiedReactionFormatter:
    async def format_compound_data(
        self,
        results: Dict[str, Any],
        params: ExtractedReactionParameters
    ) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è compound_data –∑–∞–ø—Ä–æ—Å–æ–≤"""

        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—â–µ—Å—Ç–≤–µ
        compound_info = self.compound_info_formatter.format_compound_info(
            results['compound']
        )

        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å–≤–æ–π—Å—Ç–≤
        properties_table = self.table_formatter.format_compound_properties_table(
            results['results'],
            properties=params.properties
        )

        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
        interpretation = self.interpretation_formatter.format_compound_interpretation(
            results
        )

        # –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
        response = f"üìä *–°–í–û–ô–°–¢–í–ê –í–ï–©–ï–°–¢–í–ê*\n\n"
        response += f"{compound_info}\n\n"
        response += f"{properties_table}\n\n"

        if interpretation:
            response += f"üí° *–ê–Ω–∞–ª–∏–∑*\n{interpretation}"

        return response
```

---

## –ü–æ—Ç–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ compound_data

```mermaid
sequenceDiagram
    participant User
    participant TG as Telegram API
    participant Bot as MessageHandler
    participant TI as ThermoIntegration
    participant Agent as ThermodynamicAgent
    participant TO as ThermoOrchestrator
    participant DL as CompoundDataLoader
    participant TE as ThermodynamicEngine
    participant F as UnifiedReactionFormatter

    User->>TG: "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–∫—Å–∏–¥–∞ –º–µ–¥–∏ —Å —à–∞–≥–æ–º 50 –ö–µ–ª—å–≤–∏–Ω"
    TG->>Bot: Message
    Bot->>Bot: _detect_query_type() -> "compound_data"
    Bot->>TI: process_query(query, context, "compound_data")
    TI->>Agent: extract_parameters()
    Agent-->>TI: ExtractedReactionParameters (query_type: "compound_data")
    TI->>TO: _process_compound_data_query()
    TO->>DL: get_raw_compound_data("CuO")
    DL-->>TO: CompoundSearchResult
    TO->>TE: calculate_properties() –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
    TE-->>TO: Properties [Cp, H, S, G]
    TO->>F: format_compound_data()
    F-->>TO: Formatted response
    TO-->>TI: Results
    TI-->>Bot: Formatted Telegram response
    Bot->>TG: Send response
    TG->>User: "üìä –°–í–û–ô–°–¢–í–ê –í–ï–©–ï–°–¢–í–ê..."
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```mermaid
sequenceDiagram
    participant User
    participant Bot as MessageHandler
    participant TI as ThermoIntegration
    participant EH as ErrorHandler

    User->>Bot: "–°–≤–æ–π—Å—Ç–≤–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞"
    Bot->>TI: process_query()
    TI->>EH: Compound not found error
    EH->>TI: User-friendly message
    TI->>EH: Log error
    TI-->>Bot: "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞..."
    Bot->>User: Error message with suggestions
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã

#### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ ThermodynamicAgent

```python
# src/thermo_agents/thermodynamic_agent.py - –ö–ª—é—á–µ–≤–æ–π –º–µ—Ç–æ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

class ThermodynamicAgent:
    async def extract_parameters(self, query: str) -> ExtractedReactionParameters:
        """–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π compound_data"""

        prompt = self._build_extraction_prompt(query)

        result = await self.llm_client.run(
            agent=self.agent,
            message=prompt
        )

        # –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞
        params = result.data

        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è compound_data
        if params.query_type == "compound_data":
            params = await self._enhance_compound_data_params(params, query)

        return params

    def _build_extraction_prompt(self, query: str) -> str:
        """–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤"""
        return f"""
        –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∑–∞–ø—Ä–æ—Å –∏ –∏–∑–≤–ª–µ–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

        –ó–∞–ø—Ä–æ—Å: "{query}"

        –û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞:
        - "compound_data": –µ—Å–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–∞ –æ–¥–Ω–æ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞
        - "reaction_calculation": –µ—Å–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ä–∞—Å—á–µ—Ç —Ä–µ–∞–∫—Ü–∏–∏

        –î–ª—è compound_data –∏–∑–≤–ª–µ–∫–∏:
        - –•–∏–º–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞ –≤–µ—â–µ—Å—Ç–≤–∞
        - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
        - –®–∞–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50K)
        - –§–∞–∑—ã (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)

        {self._get_extraction_examples()}
        """
```

#### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CompoundDataLoader

```python
# src/thermo_agents/core_logic/compound_data_loader.py - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

class CompoundDataLoader:
    async def get_raw_compound_data(
        self,
        formula: str,
        phase: Optional[str] = None
    ) -> CompoundSearchResult:
        """–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤–∞"""

        # –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ StaticDataManager (YAML –∫—ç—à)
        if self.static_data_manager.has_compound(formula):
            cached_data = self.static_data_manager.get_compound_data(formula)
            if self._validate_cached_data(cached_data, phase):
                return self._convert_to_search_result(cached_data)

        # –®–∞–≥ 2: –ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
        search_result = await self._search_database(formula, phase)

        if not search_result.records:
            raise CompoundNotFoundError(f"Data not found for {formula}")

        return search_result

    async def _search_database(self, formula: str, phase: Optional[str]) -> CompoundSearchResult:
        """–ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏"""

        # –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –¢–æ—á–Ω—ã–π –ø–æ–∏—Å–∫
        exact_result = await self.compound_searcher.search_compound(
            formula=formula,
            phase=phase,
            exact_match=True
        )

        if exact_result.records:
            return exact_result

        # –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
        broad_result = await self.compound_searcher.search_compound(
            formula=formula,
            phase=phase,
            exact_match=False
        )

        return broad_result
```

#### 3. Telegram Bot ThermoIntegration

```python
# src/thermo_agents/telegram_bot/utils/thermo_integration.py

class ThermoIntegration:
    def __init__(self, orchestrator: ThermoOrchestrator):
        self.orchestrator = orchestrator
        self.response_formatter = ResponseFormatter()

    async def process_query(
        self,
        query: str,
        session_context: Dict[str, Any],
        query_type: Optional[str] = None
    ) -> str:
        """–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å ThermoSystem"""

        try:
            # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
            enhanced_query = self._enhance_query(query, session_context)

            # –ï—Å–ª–∏ —Ç–∏–ø –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∑–∞–ø—Ä–æ—Å
            if query_type:
                enhanced_query = f"[TYPE:{query_type}] {enhanced_query}"

            # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞
            result = await self.orchestrator.process_query(enhanced_query)

            # –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è Telegram
            return self.response_formatter.format_for_telegram(result)

        except Exception as e:
            return self._handle_integration_error(e, query, session_context)

    def _enhance_query(self, query: str, context: Dict[str, Any]) -> str:
        """Enhancement –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏"""

        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
        if context.get('previous_compound'):
            query += f" (–ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å: {context['previous_compound']})"

        # –ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
        if not any(temp_indicator in query.lower() for temp_indicator in ['k', '¬∞c', 'celsius']):
            default_range = "298-1000K"
            query += f" –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ {default_range}"

        return query
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

#### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤–∞

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```
"–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–∫—Å–∏–¥–∞ –º–µ–¥–∏ —Å —à–∞–≥–æ–º 50 –ö–µ–ª—å–≤–∏–Ω"
```

**ExtractedReactionParameters:**
```python
ExtractedReactionParameters(
    query_type="compound_data",
    compound=CompoundInfo(formula="CuO", phase=None),
    temperature_range_k=(298, 1000),
    temperature_step_k=50.0,
    properties=["Cp", "H", "S", "G"],
    extraction_confidence=0.95
)
```

**–û—Ç–≤–µ—Ç –±–æ—Ç–∞:**
```
üìä *–°–í–û–ô–°–¢–í–ê –í–ï–©–ï–°–¢–í–ê*

**CuO (–æ–∫—Å–∏–¥ –º–µ–¥–∏)**
- –§–∞–∑–∞: –¢–≤–µ—Ä–¥–∞—è
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —ç–Ω—Ç–∞–ª—å–ø–∏—è H‚ÇÇ‚Çâ‚Çà: -155.2 –∫–î–∂/–º–æ–ª—å
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —ç–Ω—Ç—Ä–æ–ø–∏—è S‚ÇÇ‚Çâ‚Çà: 42.6 –î–∂/(–º–æ–ª—å¬∑K)
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: 298-1000K, —à–∞–≥ 50K

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  T,K ‚îÇ    Cp    ‚îÇ     H    ‚îÇ    S    ‚îÇ     G    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  298 ‚îÇ   42.38  ‚îÇ -155.20  ‚îÇ  42.59  ‚îÇ -168.88  ‚îÇ
‚îÇ  348 ‚îÇ   44.12  ‚îÇ -153.03  ‚îÇ  44.12  ‚îÇ -169.43  ‚îÇ
‚îÇ  398 ‚îÇ   45.67  ‚îÇ -150.79  ‚îÇ  45.46  ‚îÇ -169.89  ‚îÇ
‚îÇ  448 ‚îÇ   47.06  ‚îÇ -148.49  ‚îÇ  46.66  ‚îÇ -170.28  ‚îÇ
‚îÇ  498 ‚îÇ   48.31  ‚îÇ -146.13  ‚îÇ  47.73  ‚îÇ -170.60  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üí° *–ê–Ω–∞–ª–∏–∑*
- Cp —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π (—Ç–∏–ø–∏—á–Ω–æ –¥–ª—è —Ç–≤–µ—Ä–¥—ã—Ö –≤–µ—â–µ—Å—Ç–≤)
- –≠–Ω–µ—Ä–≥–∏—è –ì–∏–±–±—Å–∞ G —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–Ω–µ–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è
- –≠–Ω—Ç—Ä–æ–ø–∏—è S –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π
```

#### –ü—Ä–∏–º–µ—Ä 2: –ó–∞–ø—Ä–æ—Å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–∞–∑—ã

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```
"–°–≤–æ–π—Å—Ç–≤–∞ –≤–æ–¥—ã H2O –∂–∏–¥–∫–∞—è —Ñ–∞–∑–∞ –æ—Ç 300 –¥–æ 350K"
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ query_type –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
params = ExtractedReactionParameters(
    query_type="compound_data",
    compound=CompoundInfo(formula="H2O", phase="l"),
    temperature_range_k=(300, 350),
    temperature_step_k=50.0,
    properties=["Cp", "H", "S", "G"]
)
```

#### –ü—Ä–∏–º–µ—Ä 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```
"–°–≤–æ–π—Å—Ç–≤–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞ XyZ"
```

**–û—Ç–≤–µ—Ç –±–æ—Ç–∞:**
```
‚ùå *–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –¥–∞–Ω–Ω—ã–µ*

–î–ª—è –≤–µ—â–µ—Å—Ç–≤–∞ "XyZ" –Ω–µ –Ω–∞–π–¥–µ–Ω—ã —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- –û–ø–µ—á–∞—Ç–∫–∞ –≤ —Ö–∏–º–∏—á–µ—Å–∫–æ–π —Ñ–æ—Ä–º—É–ª–µ
- –í–µ—â–µ—Å—Ç–≤–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

üí° *–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏*
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ä–º—É–ª—ã
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–∫–∞–∑–∞—Ç—å —Ñ–∞–∑—É (—Ç–≤–µ—Ä–¥–∞—è, –∂–∏–¥–∫–∞—è, –≥–∞–∑–æ–æ–±—Ä–∞–∑–Ω–∞—è)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞: H2O, CO2, Fe2O3, CuO

_–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ ThermoSystem Telegram Bot_
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ExtractedReactionParameters

```python
# tests/unit/test_compound_data_extraction.py

import pytest
from thermo_agents.models.extraction import ExtractedReactionParameters, CompoundInfo

class TestCompoundDataExtraction:
    @pytest.mark.asyncio
    async def test_extract_compound_data_basic(self):
        """–¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ compound_data"""

        query = "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–∫—Å–∏–¥–∞ –º–µ–¥–∏ —Å —à–∞–≥–æ–º 50 –ö–µ–ª—å–≤–∏–Ω"

        params = await self.agent.extract_parameters(query)

        assert params.query_type == "compound_data"
        assert params.compound.formula == "CuO"
        assert params.temperature_step_k == 50.0
        assert params.properties == ["Cp", "H", "S", "G"]

    @pytest.mark.asyncio
    async def test_extract_with_temperature_range(self):
        """–¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º"""

        query = "–°–≤–æ–π—Å—Ç–≤–∞ H2O –æ—Ç 300 –¥–æ 600K —Å —à–∞–≥–æ–º 25"

        params = await self.agent.extract_parameters(query)

        assert params.compound.formula == "H2O"
        assert params.temperature_range_k == (300, 600)
        assert params.temperature_step_k == 25.0

    def test_validation_compound_required(self):
        """–¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ compound"""

        with pytest.raises(ValueError, match="Compound is required"):
            ExtractedReactionParameters(
                query_type="compound_data",
                compound=None
            )

    def test_validation_temperature_range(self):
        """–¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞"""

        with pytest.raises(ValueError, match="Invalid temperature range"):
            ExtractedReactionParameters(
                query_type="compound_data",
                compound=CompoundInfo(formula="H2O"),
                temperature_range_k=(-100, 300)  # –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
            )
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ThermoOrchestrator

```python
# tests/unit/test_compound_data_orchestrator.py

class TestCompoundDataOrchestrator:
    @pytest.mark.asyncio
    async def test_process_compound_data_success(self):
        """–¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ compound_data –∑–∞–ø—Ä–æ—Å–∞"""

        params = ExtractedReactionParameters(
            query_type="compound_data",
            compound=CompoundInfo(formula="H2O"),
            temperature_range_k=(298, 400),
            temperature_step_k=50.0
        )

        result = await self.orchestrator._process_compound_data_query(params)

        assert "H2O" in result
        assert "Cp" in result or "—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞" in result.lower()
        assert "—Ç–∞–±–ª–∏—Ü–∞" in result.lower() or "‚îå" in result

    @pytest.mark.asyncio
    async def test_process_compound_data_not_found(self):
        """–¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö"""

        params = ExtractedReactionParameters(
            query_type="compound_data",
            compound=CompoundInfo(formula="NonExistentCompound"),
            temperature_range_k=(298, 400)
        )

        result = await self.orchestrator._process_compound_data_query(params)

        assert "–Ω–µ –Ω–∞–π–¥–µ–Ω—ã" in result.lower() or "–Ω–µ —É–¥–∞–ª–æ—Å—å" in result.lower()
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```python
# tests/integration/test_compound_data_integration.py

class TestCompoundDataIntegration:
    @pytest.mark.asyncio
    async def test_end_to_end_compound_data(self):
        """–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ compound_data –∑–∞–ø—Ä–æ—Å–∞"""

        # –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞
        config = ThermoOrchestratorConfig(
            llm_api_key="test_key",
            db_path=Path("test_data.db")
        )

        orchestrator = ThermoOrchestrator(config)

        # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
        query = "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ CuO —Å —à–∞–≥–æ–º 50K"
        response = await orchestrator.process_query(query)

        # –ü—Ä–æ–≤–µ—Ä–∫–∏
        assert "CuO" in response
        assert "—Å–≤–æ–π—Å—Ç–≤–∞" in response.lower()
        assert len(response) > 100  # –°—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç

    @pytest.mark.asyncio
    async def test_compound_vs_reaction_distinction(self):
        """–¢–µ—Å—Ç —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤"""

        # Compound data –∑–∞–ø—Ä–æ—Å
        compound_query = "–°–≤–æ–π—Å—Ç–≤–∞ –≤–æ–¥—ã"
        compound_response = await self.orchestrator.process_query(compound_query)

        # Reaction –∑–∞–ø—Ä–æ—Å
        reaction_query = "2 H2 + O2 ‚Üí 2 H2O"
        reaction_response = await self.orchestrator.process_query(reaction_query)

        # –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –æ—Ç–≤–µ—Ç—ã —Ä–∞–∑–Ω—ã–µ –ø–æ —Ç–∏–ø—É
        assert compound_response != reaction_response
        assert "—Å–≤–æ–π—Å—Ç–≤–∞" in compound_response.lower()
        assert "—Ä–µ–∞–∫—Ü–∏—è" in reaction_response.lower() or "ŒîH" in reaction_response
```

### –¢–µ—Å—Ç—ã Telegram Bot

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MessageHandler

```python
# tests/telegram_bot/test_message_handler_compound.py

class TestMessageHandlerCompound:
    @pytest.mark.asyncio
    async def test_compound_data_message_handling(self):
        """–¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ compound_data —Å–æ–æ–±—â–µ–Ω–∏–π"""

        message = Mock()
        message.text = "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–∫—Å–∏–¥–∞ –º–µ–¥–∏"
        message.chat_id = 12345

        session = Mock()
        session.context = {}
        session.logger = Mock()

        response = await self.message_handler.handle_message(message, session)

        assert "CuO" in response or "–æ–∫—Å–∏–¥–∞ –º–µ–¥–∏" in response.lower()
        assert "—Å–≤–æ–π—Å—Ç–≤–∞" in response.lower()

    def test_detect_query_type_compound(self):
        """–¢–µ—Å—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ compound_data –∑–∞–ø—Ä–æ—Å–∞"""

        compound_queries = [
            "–°–≤–æ–π—Å—Ç–≤–∞ –≤–µ—â–µ—Å—Ç–≤–∞",
            "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è H2O",
            "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å Cp",
            "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –æ–∫—Å–∏–¥–∞ –∂–µ–ª–µ–∑–∞"
        ]

        for query in compound_queries:
            query_type = self.message_handler._detect_query_type(query)
            assert query_type == "compound_data"

    def test_detect_query_type_reaction(self):
        """–¢–µ—Å—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ reaction_calculation –∑–∞–ø—Ä–æ—Å–∞"""

        reaction_queries = [
            "2 H2 + O2 ‚Üí 2 H2O",
            "–†–µ–∞–∫—Ü–∏—è –≥–æ—Ä–µ–Ω–∏—è –º–µ—Ç–∞–Ω–∞",
            "Fe + O2 = Fe2O3",
            "–ü—Ä–æ–¥—É–∫—Ç—ã —Ä–µ–∞–∫—Ü–∏–∏ –∞–ª—é–º–∏–Ω–∏—è —Å –∫–∏—Å–ª–æ—Ä–æ–¥–æ–º"
        ]

        for query in reaction_queries:
            query_type = self.message_handler._detect_query_type(query)
            assert query_type == "reaction_calculation"
```

---

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

#### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# 1. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
cp -r src/thermo_agents src/thermo_agents.backup

# 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
uv sync

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
uv run python -c "
import sqlite3
conn = sqlite3.connect('data/thermo_data.db')
cursor = conn.cursor()
cursor.execute('SELECT COUNT(*) FROM thermodynamic_data')
print(f'Records in DB: {cursor.fetchone()[0]}')
conn.close()
"
```

#### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è compound_data
uv run pytest tests/unit/test_compound_data_*.py -v
uv run pytest tests/integration/test_compound_data_integration.py -v

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ Telegram Bot
uv run pytest tests/telegram_bot/test_message_handler_compound.py -v

# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä
uv run pytest tests/ -k "compound_data" -v
```

#### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ development

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
uv run python main.py --test

# –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
echo "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–∫—Å–∏–¥–∞ –º–µ–¥–∏ —Å —à–∞–≥–æ–º 50 –ö–µ–ª—å–≤–∏–Ω" | uv run python main.py --stdin
echo "–°–≤–æ–π—Å—Ç–≤–∞ –≤–æ–¥—ã H2O –æ—Ç 300 –¥–æ 400K" | uv run python main.py --stdin
echo "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ CO2 –≥–∞–∑–æ–æ–±—Ä–∞–∑–Ω–∞—è —Ñ–∞–∑–∞" | uv run python main.py --stdin
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### –¢–µ—Å—Ç—ã –Ω–∞–≥—Ä—É–∑–∫–∏

```python
# tests/performance/test_compound_data_performance.py

class TestCompoundDataPerformance:
    @pytest.mark.asyncio
    async def test_response_time_compound_data(self):
        """–¢–µ—Å—Ç –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è compound_data –∑–∞–ø—Ä–æ—Å–æ–≤"""

        start_time = time.time()

        query = "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ CuO"
        response = await self.orchestrator.process_query(query)

        end_time = time.time()
        response_time = end_time - start_time

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        assert response_time < 5.0, f"Response time {response_time}s > 5s"
        assert len(response) > 50, "Response too short"

    @pytest.mark.asyncio
    async def test_concurrent_compound_requests(self):
        """–¢–µ—Å—Ç concurrent –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤"""

        queries = [
            "–°–≤–æ–π—Å—Ç–≤–∞ H2O",
            "–°–≤–æ–π—Å—Ç–≤–∞ CO2",
            "–°–≤–æ–π—Å—Ç–≤–∞ Fe2O3",
            "–°–≤–æ–π—Å—Ç–≤–∞ CuO",
            "–°–≤–æ–π—Å—Ç–≤–∞ NH3"
        ]

        start_time = time.time()

        # Concurrent –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
        tasks = [
            self.orchestrator.process_query(query)
            for query in queries
        ]
        responses = await asyncio.gather(*tasks)

        end_time = time.time()
        total_time = end_time - start_time

        # –ü—Ä–æ–≤–µ—Ä–∫–∏
        assert len(responses) == len(queries)
        assert total_time < 15.0, f"Concurrent processing took {total_time}s"

        for response in responses:
            assert len(response) > 100
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

- [ ] **FC-1**: –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `compound_data` —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫
- [ ] **FC-2**: LLM –∞–≥–µ–Ω—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–µ—â–µ—Å—Ç–≤–∞ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é > 90%
- [ ] **FC-3**: ThermoOrchestrator –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç compound_data –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] **FC-4**: Telegram Bot –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–∞–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–µ—â–µ—Å—Ç–≤
- [ ] **FC-5**: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Telegram

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

- [ ] **TC-1**: –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö compound_data –∑–∞–ø—Ä–æ—Å–æ–≤ < 5 —Å–µ–∫—É–Ω–¥
- [ ] **TC-2**: –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 10+ concurrent compound_data –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] **TC-3**: Memory usage —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 200MB
- [ ] **TC-4**: –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å reaction_calculation —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- [ ] **TC-5**: –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (unit, integration, e2e)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- [ ] **QC-1**: Code coverage > 85% –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- [ ] **QC-2**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] **QC-3**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ —ç—Ç–∞–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
- [ ] **QC-4**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] **QC-5**: –°–∏—Å—Ç–µ–º–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –≤—Ö–æ–¥–Ω—ã–º –¥–∞–Ω–Ω—ã–º

### –í–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
```bash
# –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
test_queries = [
    "–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–∫—Å–∏–¥–∞ –º–µ–¥–∏ —Å —à–∞–≥–æ–º 50 –ö–µ–ª—å–≤–∏–Ω",
    "–°–≤–æ–π—Å—Ç–≤–∞ –≤–æ–¥—ã H2O –æ—Ç 300 –¥–æ 600K",
    "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ CO2 –≥–∞–∑–æ–æ–±—Ä–∞–∑–Ω–∞—è —Ñ–∞–∑–∞",
    "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å Cp –¥–ª—è Fe2O3",
    "–î–∞–Ω–Ω—ã–µ –¥–ª—è CuO –∂–∏–¥–∫–∞—è —Ñ–∞–∑–∞"
]

for query in test_queries:
    response = await bot.process_query(query)
    assert "—Å–≤–æ–π—Å—Ç–≤–∞" in response.lower()
    assert len(response) > 200
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```bash
# –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –æ—à–∏–±–∫–∞–º–∏
error_queries = [
    "–°–≤–æ–π—Å—Ç–≤–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞",
    "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å",
    "",
    "12345"
]

for query in error_queries:
    response = await bot.process_query(query)
    assert "–æ—à–∏–±–∫–∞" in response.lower() or "–Ω–µ —É–¥–∞–ª–æ—Å—å" in response.lower()
```

### –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∏ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤:

1. **–î–µ–ø–ª–æ–π –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä**
2. **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤**
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (beta testing)**
4. **–§–∏–Ω–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ production**

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 11 –Ω–æ—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
**–°—Ç–∞—Ç—É—Å:** Technical Specification
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Development Team

*–î–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤ –≤–µ—â–µ—Å—Ç–≤ –≤ ThermoCalcBot Telegram Bot.*